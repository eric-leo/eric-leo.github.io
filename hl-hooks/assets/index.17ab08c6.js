import{x as X,u as ae,U,V as q,W as ue,X as fe,d as Y,i as de,v as f,c as H,K as ve,Y as L,o as E,k as B,I as le,R as me,T as pe,g as k,O as A,y as T,Z as he,G as re,b as ne,A as G,F as be,P as we,a as ye,C as ge,n as Se,B as $e,N as Ee,e as ze}from"./plugin-vue_export-helper.1cbc6bb8.js";import{i as Oe,n as R,a as V,t as se,b as D,c as Pe}from"./index.0e2bf1e0.js";import{_ as I,u as He,w as Te}from"./error.9195fd48.js";function _e(e){var t;const o=ae(e);return(t=o==null?void 0:o.$el)!=null?t:o}const ie=V?window:void 0;function _(...e){let t,o,l,i;if(Oe(e[0])?([o,l,i]=e,t=ie):[t,o,l,i]=e,!t)return R;let a=R;const s=X(()=>ae(t),u=>{a(),u&&(u.addEventListener(o,l,i),a=()=>{u.removeEventListener(o,l,i),a=R})},{immediate:!0,flush:"post"}),c=()=>{s(),a()};return se(c),c}const W=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},j="__vueuse_ssr_handlers__";W[j]=W[j]||{};W[j];var x=Object.getOwnPropertySymbols,Ne=Object.prototype.hasOwnProperty,Ce=Object.prototype.propertyIsEnumerable,Le=(e,t)=>{var o={};for(var l in e)Ne.call(e,l)&&t.indexOf(l)<0&&(o[l]=e[l]);if(e!=null&&x)for(var l of x(e))t.indexOf(l)<0&&Ce.call(e,l)&&(o[l]=e[l]);return o};function Re(e,t,o={}){const l=o,{window:i=ie}=l,a=Le(l,["window"]);let s;const c=i&&"ResizeObserver"in i,u=()=>{s&&(s.disconnect(),s=void 0)},n=X(()=>_e(e),m=>{u(),c&&i&&m&&(s=new i.ResizeObserver(t),s.observe(m,a))},{immediate:!0,flush:"post"}),v=()=>{u(),n()};return se(v),{isSupported:c,stop:v}}var F,J;V&&(window==null?void 0:window.navigator)&&((F=window==null?void 0:window.navigator)==null?void 0:F.platform)&&/iP(ad|hone|od)/.test((J=window==null?void 0:window.navigator)==null?void 0:J.platform);var Be=Object.defineProperty,Z=Object.getOwnPropertySymbols,ke=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable,Q=(e,t,o)=>t in e?Be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,De=(e,t)=>{for(var o in t||(t={}))ke.call(t,o)&&Q(e,o,t[o]);if(Z)for(var o of Z(t))Ae.call(t,o)&&Q(e,o,t[o]);return e};const We={top:0,left:0,bottom:0,right:0,height:0,width:0};De({text:""},We);function je(e){for(var t=-1,o=e==null?0:e.length,l={};++t<o;){var i=e[t];l[i[0]]=i[1]}return l}const rt={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},M=Symbol(),ee="__hlPropsReservedKey";function Me(e,t){if(!U(e)||!!e[ee])return e;const{values:o,required:l,default:i,type:a,validator:s}=e,c=o||s?n=>{let v=!1,m=[];if(o&&(m=Array.from(o),q(e,"default")&&m.push(i),v||(v=m.includes(n))),s&&(v||(v=s(n))),!v&&m.length>0){const b=[...new Set(m)].map(w=>JSON.stringify(w)).join(", ");ue(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${b}], got value ${JSON.stringify(n)}.`)}return v}:void 0,u={type:U(a)&&Object.getOwnPropertySymbols(a).includes(M)?a[M]:a,required:!!l,validator:c,[ee]:!0};return q(e,"default")&&(u.default=i),u}const K=e=>je(Object.entries(e).map(([t,o])=>[t,Me(o,t)])),Xe=e=>({[M]:e});function te(e,t="px"){if(!e)return"";if(fe(e))return e;if(D(e))return`${e}${t}`}const ce=Symbol("scrollbarContextKey"),Ye={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Ve=({move:e,size:t,bar:o})=>({[o.size]:t,transform:`translate${o.axis}(${e}%)`}),Ie=K({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),oe="Thumb",Ke=Y({name:oe,props:Ie,setup(e){const t=de(ce);t||Pe(oe,"can not inject scrollbar context");const o=f(),l=f(),i=f({}),a=f(!1);let s=!1,c=!1,u=V?document.onselectstart:null;const n=H(()=>Ye[e.vertical?"vertical":"horizontal"]),v=H(()=>Ve({size:e.size,move:e.move,bar:n.value})),m=H(()=>o.value[n.value.offset]**2/t.wrapElement[n.value.scrollSize]/e.ratio/l.value[n.value.offset]),b=r=>{var d;if(r.stopPropagation(),r.ctrlKey||[1,2].includes(r.button))return;(d=window.getSelection())==null||d.removeAllRanges(),y(r);const p=r.currentTarget;!p||(i.value[n.value.axis]=p[n.value.offset]-(r[n.value.client]-p.getBoundingClientRect()[n.value.direction]))},w=r=>{if(!l.value||!o.value||!t.wrapElement)return;const d=Math.abs(r.target.getBoundingClientRect()[n.value.direction]-r[n.value.client]),p=l.value[n.value.offset]/2,h=(d-p)*100*m.value/o.value[n.value.offset];t.wrapElement[n.value.scroll]=h*t.wrapElement[n.value.scrollSize]/100},y=r=>{r.stopImmediatePropagation(),s=!0,document.addEventListener("mousemove",z),document.addEventListener("mouseup",$),u=document.onselectstart,document.onselectstart=()=>!1},z=r=>{if(!o.value||!l.value||s===!1)return;const d=i.value[n.value.axis];if(!d)return;const p=(o.value.getBoundingClientRect()[n.value.direction]-r[n.value.client])*-1,h=l.value[n.value.offset]-d,S=(p-h)*100*m.value/o.value[n.value.offset];t.wrapElement[n.value.scroll]=S*t.wrapElement[n.value.scrollSize]/100},$=()=>{s=!1,i.value[n.value.axis]=0,document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",$),O(),c&&(a.value=!1)},N=()=>{c=!1,a.value=!!e.size},C=()=>{c=!0,a.value=s},g=r=>{if(!e.vertical&&a.value&&t.scrollbarElement.querySelector(".is-vertical").style.display){const d=Math.max(-1,Math.min(1,r.wheelDelta||-r.detail));t.wrapElement.scrollLeft-=d*28,r.preventDefault()}};ve(()=>{O(),document.removeEventListener("mouseup",$)});const O=()=>{document.onselectstart!==u&&(document.onselectstart=u)};return _(L(t,"scrollbarElement"),"mousemove",N),_(L(t,"scrollbarElement"),"mouseleave",C),!e.vertical&&_(L(t,"scrollbarElement"),"mousewheel",g),{instance:o,thumb:l,bar:n,thumbStyle:v,visible:a,clickTrackHandler:w,clickThumbHandler:b}}});function Ue(e,t,o,l,i,a){return E(),B(he,{name:"fade"},{default:le(()=>[me(k("div",{ref:"instance",class:T(["scrollbar-bar","is-"+e.bar.key]),onMousedown:t[1]||(t[1]=(...s)=>e.clickTrackHandler&&e.clickTrackHandler(...s))},[k("div",{ref:"thumb",class:"scrollbar-thumb",style:A(e.thumbStyle),onMousedown:t[0]||(t[0]=(...s)=>e.clickThumbHandler&&e.clickThumbHandler(...s))},null,36)],34),[[pe,e.always||e.visible]])]),_:1})}var qe=I(Ke,[["render",Ue]]);const Ge=K({always:{type:Boolean,default:!0},width:{type:String,default:""},height:{type:String,default:""},ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),xe=Y({components:{Thumb:qe},props:Ge,setup(e){const t=f(0),o=f(0),l=0;return{handleScroll:a=>{if(a){const s=a.offsetHeight-l,c=a.offsetWidth-l;o.value=a.scrollTop*100/s*e.ratioY,t.value=a.scrollLeft*100/c*e.ratioX}},moveX:t,moveY:o}}});function Fe(e,t,o,l,i,a){const s=re("thumb");return E(),ne(be,null,[G(s,{move:e.moveX,ratio:e.ratioX,size:e.width,always:e.always},null,8,["move","ratio","size","always"]),G(s,{move:e.moveY,ratio:e.ratioY,size:e.height,vertical:"",always:e.always},null,8,["move","ratio","size","always"])],64)}var Je=I(xe,[["render",Fe]]);const Ze=K({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Xe([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:{type:Boolean,default:!1},minSize:{type:Number,default:20},distance:{type:Number,default:5}}),Qe=Y({name:"Scrollbar",components:{Bar:Je},props:Ze,emits:["scroll","at-end"],setup(e,{emit:t}){let o,l;const i=f(),a=f(),s=f(),c=f(),u=f("0"),n=f("0"),v=f(0),m=f(0),b=f(1),w=f(1),y=0,z=H(()=>{const r={};return e.height&&(r.height=te(e.height)),e.maxHeight&&(r.maxHeight=te(e.maxHeight)),[e.wrapStyle,r]}),$=()=>{var r;a.value&&((r=c.value)==null||r.handleScroll(a.value),t("scroll",{scrollTop:a.value.scrollTop,scrollLeft:a.value.scrollLeft}),a.value.scrollTop+a.value.offsetHeight+e.distance>=a.value.scrollHeight&&t("at-end",{vertical:!0}))},N=r=>{!D(r)||(a.value.scrollTop=r)},C=r=>{!D(r)||(a.value.scrollLeft=r)},g=()=>{if(!a.value)return;const r=a.value.offsetHeight-y,d=a.value.offsetWidth-y,p=r**2/a.value.scrollHeight,h=d**2/a.value.scrollWidth,S=Math.max(p,e.minSize),P=Math.max(h,e.minSize);b.value=p/(r-p)/(S/(r-S)),w.value=h/(d-h)/(P/(d-P)),n.value=S+y<r?`${S}px`:"",u.value=P+y<d?`${P}px`:""};X(()=>e.noresize,r=>{r?(o==null||o(),l==null||l()):({stop:o}=Re(s,g),l=_("resize",g))},{immediate:!0}),we(ce,ye({scrollbarElement:i,wrapElement:a})),ge(()=>{e.native||Se(()=>g())});const{namespace:O}=He("scrollbar");return{namespace:O,scrollbar$:i,wrap$:a,resize$:s,barRef:c,moveX:v,moveY:m,ratioX:w,ratioY:b,sizeWidth:u,sizeHeight:n,style:z,update:g,handleScroll:$,setScrollTop:N,setScrollLeft:C}}});function et(e,t,o,l,i,a){const s=re("bar");return E(),ne("div",{ref:"scrollbar$",class:T(e.namespace)},[k("div",{ref:"wrap$",class:T([e.wrapClass,"scrollbar-wrap",e.native?"":"scrollbar-wrap-hidden"]),style:A(e.style),onScroll:t[0]||(t[0]=(...c)=>e.handleScroll&&e.handleScroll(...c))},[(E(),B(Ee(e.tag),{ref:"resize$",class:T(["scrollbar-view",e.viewClass]),style:A(e.viewStyle)},{default:le(()=>[$e(e.$slots,"default")]),_:3},8,["class","style"]))],38),e.native?ze("v-if",!0):(E(),B(s,{key:0,ref:"barRef",height:e.sizeHeight,width:e.sizeWidth,always:e.always,"ratio-x":e.ratioX,"ratio-y":e.ratioY},null,8,["height","width","always","ratio-x","ratio-y"]))],2)}var tt=I(Qe,[["render",et]]);const nt=Te(tt);export{rt as E,nt as H,te as a,K as b,Xe as d,je as f};
