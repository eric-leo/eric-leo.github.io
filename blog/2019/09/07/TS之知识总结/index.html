<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>TS之知识总结 | Hexo</title><meta name="description" content="typescript是什么 Typescript是由微软开发的一款开源的编程语言 Typescript是Javascript的超集，遵循最新的ES5&#x2F;ES6规范。TypeScript扩展了Javascript语法 TypeScript更像后端Java、C#这样的面向对象语言可以让JS开发大型企业应用 越来越多的项目是基于TS的，比如VSCode、Angular6、Vue3、React16 TS提供"><meta name="keywords" content="ts"><meta name="author" content="ZhiWeiLi"><meta name="copyright" content="ZhiWeiLi"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/blog/img/favicon.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="TS之知识总结"><meta name="twitter:description" content="typescript是什么 Typescript是由微软开发的一款开源的编程语言 Typescript是Javascript的超集，遵循最新的ES5&#x2F;ES6规范。TypeScript扩展了Javascript语法 TypeScript更像后端Java、C#这样的面向对象语言可以让JS开发大型企业应用 越来越多的项目是基于TS的，比如VSCode、Angular6、Vue3、React16 TS提供"><meta name="twitter:image" content="https://eric-leo.github.io/img/javascript_default.jpg"><meta property="og:type" content="article"><meta property="og:title" content="TS之知识总结"><meta property="og:url" content="https://eric-leo.github.io/2019/09/07/TS%E4%B9%8B%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/"><meta property="og:site_name" content="Hexo"><meta property="og:description" content="typescript是什么 Typescript是由微软开发的一款开源的编程语言 Typescript是Javascript的超集，遵循最新的ES5&#x2F;ES6规范。TypeScript扩展了Javascript语法 TypeScript更像后端Java、C#这样的面向对象语言可以让JS开发大型企业应用 越来越多的项目是基于TS的，比如VSCode、Angular6、Vue3、React16 TS提供"><meta property="og:image" content="https://eric-leo.github.io/img/javascript_default.jpg"><meta property="article:published_time" content="2019-09-07T14:08:23.000Z"><meta property="article:modified_time" content="2020-06-02T08:16:09.157Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/blog/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://eric-leo.github.io/2019/09/07/TS%E4%B9%8B%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/"><link rel="next" title="Express之入门篇" href="https://eric-leo.github.io/2019/07/20/Express%E4%B9%8B%E5%85%A5%E9%97%A8%E7%AF%87/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/blog/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    message_prev: 'Press',
    message_next: 'to bookmark this page'
  },
  runtime_unit: 'days',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/blog/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/blog/archives/"><div class="headline">Articles</div><div class="length_num">26</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/blog/tags/"><div class="headline">Tags</div><div class="length_num">9</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/blog/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/blog/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/blog/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/blog/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/blog/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#typescript是什么"><span class="toc-number">1.</span> <span class="toc-text">typescript是什么</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TypeScript安装和编译"><span class="toc-number">2.</span> <span class="toc-text">TypeScript安装和编译</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装"><span class="toc-number">2.1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vscode-TypeScript"><span class="toc-number">2.2.</span> <span class="toc-text">Vscode+TypeScript</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#生成配置文件"><span class="toc-number">2.2.1.</span> <span class="toc-text">生成配置文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#执行编译"><span class="toc-number">2.2.2.</span> <span class="toc-text">执行编译</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vscode运行"><span class="toc-number">2.2.3.</span> <span class="toc-text">vscode运行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#npm-scripts"><span class="toc-number">2.2.4.</span> <span class="toc-text">npm scripts</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#npm-scripts-的-PATH"><span class="toc-number">2.2.5.</span> <span class="toc-text">npm scripts 的 PATH</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数据类型"><span class="toc-number">3.</span> <span class="toc-text">数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#布尔类型-boolean"><span class="toc-number">3.1.</span> <span class="toc-text">布尔类型(boolean)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数字类型-number"><span class="toc-number">3.2.</span> <span class="toc-text">数字类型(number)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#字符串类型-string"><span class="toc-number">3.3.</span> <span class="toc-text">字符串类型(string)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数组类型-array"><span class="toc-number">3.4.</span> <span class="toc-text">数组类型(array)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#元组类型-tuple"><span class="toc-number">3.5.</span> <span class="toc-text">元组类型(tuple)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#枚举类型-enum"><span class="toc-number">3.6.</span> <span class="toc-text">枚举类型(enum)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#普通枚举"><span class="toc-number">3.6.1.</span> <span class="toc-text">普通枚举</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#常数枚举"><span class="toc-number">3.6.2.</span> <span class="toc-text">常数枚举</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#任意类型-any"><span class="toc-number">3.7.</span> <span class="toc-text">任意类型(any)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#null-和-undefined"><span class="toc-number">3.8.</span> <span class="toc-text">null 和 undefined</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#void-类型"><span class="toc-number">3.9.</span> <span class="toc-text">void 类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#never类型"><span class="toc-number">3.10.</span> <span class="toc-text">never类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#作为不会返回（-return-）的函数的返回值类型"><span class="toc-number">3.10.1.</span> <span class="toc-text">作为不会返回（ return ）的函数的返回值类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#strictNullChecks"><span class="toc-number">3.10.2.</span> <span class="toc-text">strictNullChecks</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#never-和-void-的区别"><span class="toc-number">3.10.3.</span> <span class="toc-text">never 和 void 的区别</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#类型推论"><span class="toc-number">3.11.</span> <span class="toc-text">类型推论</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#包装对象（Wrapper-Object）"><span class="toc-number">3.12.</span> <span class="toc-text">包装对象（Wrapper Object）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#联合类型"><span class="toc-number">3.13.</span> <span class="toc-text">联合类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#类型断言"><span class="toc-number">3.14.</span> <span class="toc-text">类型断言</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#字符串、数字、布尔值字面量"><span class="toc-number">3.15.</span> <span class="toc-text">字符串、数字、布尔值字面量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#字符串字面量-vs-联合类型"><span class="toc-number">3.16.</span> <span class="toc-text">字符串字面量 vs 联合类型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#函数"><span class="toc-number">4.</span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#函数的定义"><span class="toc-number">4.1.</span> <span class="toc-text">函数的定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#函数表达式"><span class="toc-number">4.2.</span> <span class="toc-text">函数表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#没有返回值"><span class="toc-number">4.3.</span> <span class="toc-text">没有返回值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#可选参数"><span class="toc-number">4.4.</span> <span class="toc-text">可选参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#默认参数"><span class="toc-number">4.5.</span> <span class="toc-text">默认参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#剩余参数"><span class="toc-number">4.6.</span> <span class="toc-text">剩余参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#函数重载"><span class="toc-number">4.7.</span> <span class="toc-text">函数重载</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#类"><span class="toc-number">5.</span> <span class="toc-text">类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#如何定义类"><span class="toc-number">5.1.</span> <span class="toc-text">如何定义类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#存取器"><span class="toc-number">5.2.</span> <span class="toc-text">存取器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#参数属性"><span class="toc-number">5.3.</span> <span class="toc-text">参数属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#readonly"><span class="toc-number">5.4.</span> <span class="toc-text">readonly</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#继承"><span class="toc-number">5.5.</span> <span class="toc-text">继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#类里面的修饰符"><span class="toc-number">5.6.</span> <span class="toc-text">类里面的修饰符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#静态属性-静态方法"><span class="toc-number">5.7.</span> <span class="toc-text">静态属性 静态方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#抽象类"><span class="toc-number">5.8.</span> <span class="toc-text">抽象类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#抽象类-vs-接口"><span class="toc-number">5.9.</span> <span class="toc-text">抽象类 vs 接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#抽象方法"><span class="toc-number">5.10.</span> <span class="toc-text">抽象方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#重写（override）-vs-重载（overload）"><span class="toc-number">5.11.</span> <span class="toc-text">重写（override） vs 重载（overload）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#继承-vs-多态"><span class="toc-number">5.12.</span> <span class="toc-text">继承 vs 多态</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#接口"><span class="toc-number">6.</span> <span class="toc-text">接口</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#接口-1"><span class="toc-number">6.1.</span> <span class="toc-text">接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#接口的继承"><span class="toc-number">6.2.</span> <span class="toc-text">接口的继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#readonly-1"><span class="toc-number">6.3.</span> <span class="toc-text">readonly</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#函数类型接口"><span class="toc-number">6.4.</span> <span class="toc-text">函数类型接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#可索引接口"><span class="toc-number">6.5.</span> <span class="toc-text">可索引接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#类接口"><span class="toc-number">6.6.</span> <span class="toc-text">类接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#构造函数的类型"><span class="toc-number">6.7.</span> <span class="toc-text">构造函数的类型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#泛型"><span class="toc-number">7.</span> <span class="toc-text">泛型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#泛型函数"><span class="toc-number">7.1.</span> <span class="toc-text">泛型函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#类数组"><span class="toc-number">7.2.</span> <span class="toc-text">类数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#泛型类"><span class="toc-number">7.3.</span> <span class="toc-text">泛型类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#泛型接口"><span class="toc-number">7.4.</span> <span class="toc-text">泛型接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#多个类型参"><span class="toc-number">7.5.</span> <span class="toc-text">多个类型参</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#默认泛型类型"><span class="toc-number">7.6.</span> <span class="toc-text">默认泛型类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#泛型约束"><span class="toc-number">7.7.</span> <span class="toc-text">泛型约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#泛型接口-1"><span class="toc-number">7.8.</span> <span class="toc-text">泛型接口</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#泛型类型别名"><span class="toc-number">7.9.</span> <span class="toc-text">泛型类型别名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#泛型接口-vs-泛型类型别名"><span class="toc-number">7.10.</span> <span class="toc-text">泛型接口 vs 泛型类型别名</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#结构类型系统"><span class="toc-number">8.</span> <span class="toc-text">结构类型系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#接口的兼容性"><span class="toc-number">8.1.</span> <span class="toc-text">接口的兼容性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#基本类型的兼容性"><span class="toc-number">8.2.</span> <span class="toc-text">基本类型的兼容性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#类的兼容性"><span class="toc-number">8.3.</span> <span class="toc-text">类的兼容性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#函数的兼容性"><span class="toc-number">8.4.</span> <span class="toc-text">函数的兼容性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#函数参数的双向协变"><span class="toc-number">8.5.</span> <span class="toc-text">函数参数的双向协变</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#泛型的兼容性"><span class="toc-number">8.6.</span> <span class="toc-text">泛型的兼容性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#枚举的兼容性"><span class="toc-number">8.7.</span> <span class="toc-text">枚举的兼容性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#类型保护"><span class="toc-number">9.</span> <span class="toc-text">类型保护</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#typeof-类型保护"><span class="toc-number">9.1.</span> <span class="toc-text">typeof 类型保护</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#instanceof类型保护"><span class="toc-number">9.2.</span> <span class="toc-text">instanceof类型保护</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#null保护"><span class="toc-number">9.3.</span> <span class="toc-text">null保护</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#链判断运算符"><span class="toc-number">9.4.</span> <span class="toc-text">链判断运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#可辨识的联合类型"><span class="toc-number">9.5.</span> <span class="toc-text">可辨识的联合类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#in操作符"><span class="toc-number">9.6.</span> <span class="toc-text">in操作符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#自定义的类型保护"><span class="toc-number">9.7.</span> <span class="toc-text">自定义的类型保护</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#类型变换"><span class="toc-number">10.</span> <span class="toc-text">类型变换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#交叉类型"><span class="toc-number">10.1.</span> <span class="toc-text">交叉类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#typeof"><span class="toc-number">10.2.</span> <span class="toc-text">typeof</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#索引访问操作符"><span class="toc-number">10.3.</span> <span class="toc-text">索引访问操作符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#keyof"><span class="toc-number">10.4.</span> <span class="toc-text">keyof</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#映射类型"><span class="toc-number">10.5.</span> <span class="toc-text">映射类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#内置工具类型"><span class="toc-number">10.6.</span> <span class="toc-text">内置工具类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#dPartial"><span class="toc-number">10.6.1.</span> <span class="toc-text">dPartial</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Required"><span class="toc-number">10.6.2.</span> <span class="toc-text">Required</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Readonly"><span class="toc-number">10.6.3.</span> <span class="toc-text">Readonly</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Pick"><span class="toc-number">10.6.4.</span> <span class="toc-text">Pick</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#映射类型修饰符的控制"><span class="toc-number">10.6.5.</span> <span class="toc-text">映射类型修饰符的控制</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#条件类型"><span class="toc-number">10.7.</span> <span class="toc-text">条件类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#定义条件类型"><span class="toc-number">10.7.1.</span> <span class="toc-text">定义条件类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#条件类型的分发"><span class="toc-number">10.7.2.</span> <span class="toc-text">条件类型的分发</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#内置条件类型"><span class="toc-number">10.7.3.</span> <span class="toc-text">内置条件类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Exclude"><span class="toc-number">10.7.4.</span> <span class="toc-text">Exclude</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Extract"><span class="toc-number">10.7.5.</span> <span class="toc-text">Extract</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NonNullable"><span class="toc-number">10.7.6.</span> <span class="toc-text">NonNullable</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ReturnType"><span class="toc-number">10.7.7.</span> <span class="toc-text">ReturnType</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#InstanceType"><span class="toc-number">10.7.8.</span> <span class="toc-text">InstanceType</span></a></li></ol></li></ol></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="color"></div><div class="post-bg" id="nav" style="background-image: url(/blog/img/javascript_default.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/blog/">Hexo</a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/blog/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/blog/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/blog/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/blog/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/blog/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">TS之知识总结</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date" title="Created 2019-09-07 22:08:23"><i class="fa fa-calendar" aria-hidden="true"></i> Created 2019-09-07</time></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>Post View:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h2 id="typescript是什么"><a href="#typescript是什么" class="headerlink" title="typescript是什么"></a>typescript是什么</h2><ul>
<li>Typescript是由微软开发的一款开源的编程语言</li>
<li>Typescript是Javascript的超集，遵循最新的ES5/ES6规范。TypeScript扩展了Javascript语法</li>
<li>TypeScript更像后端Java、C#这样的面向对象语言可以让JS开发大型企业应用</li>
<li>越来越多的项目是基于TS的，比如VSCode、Angular6、Vue3、React16</li>
<li>TS提供的类型系统可以帮助我们在写代码的时候提供更丰富的语法提示</li>
<li>在创建前的编译阶段经过类型系统的检查，就可以避免很多线上的错误</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gfdymdzclqj30b40b4weh.jpg" alt="img.jpg"></p>
<h2 id="TypeScript安装和编译"><a href="#TypeScript安装和编译" class="headerlink" title="TypeScript安装和编译"></a>TypeScript安装和编译</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><blockquote>
<p>cnpm i typescript -g<br>tsc helloworld.ts</p>
</blockquote>
<h3 id="Vscode-TypeScript"><a href="#Vscode-TypeScript" class="headerlink" title="Vscode+TypeScript"></a>Vscode+TypeScript</h3><h4 id="生成配置文件"><a href="#生成配置文件" class="headerlink" title="生成配置文件"></a>生成配置文件</h4><blockquote>
<p>tsc –init</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">  &quot;compilerOptions&quot;: &#123;</span><br><span class="line">    /* Basic Options */</span><br><span class="line">    &quot;target&quot;: &quot;es5&quot;,                          /* Specify ECMAScript target version: &apos;ES3&apos; (default), &apos;ES5&apos;, &apos;ES2015&apos;, &apos;ES2016&apos;, &apos;ES2017&apos;,&apos;ES2018&apos; or &apos;ESNEXT&apos;. 指定ECMAScript的目标版本*/</span><br><span class="line">    &quot;module&quot;: &quot;commonjs&quot;,                     /* Specify module code generation: &apos;none&apos;, &apos;commonjs&apos;, &apos;amd&apos;, &apos;system&apos;, &apos;umd&apos;, &apos;es2015&apos;, or &apos;ESNext&apos;. 指定模块代码的生成方式*/</span><br><span class="line">    // &quot;lib&quot;: [],                             /* Specify library files to be included in the compilation. 指定编译的时候用来包含的编译文件*/</span><br><span class="line">    // &quot;allowJs&quot;: true,                       /* Allow javascript files to be compiled. 允许编译JS文件*/</span><br><span class="line">    // &quot;checkJs&quot;: true,                       /* Report errors in .js files. 在JS中包括错误*/</span><br><span class="line">    // &quot;jsx&quot;: &quot;preserve&quot;,                     /* Specify JSX code generation: &apos;preserve&apos;, &apos;react-native&apos;, or &apos;react&apos;. 指定JSX代码的生成方式 是保留还是react-native或者react*/</span><br><span class="line">    // &quot;declaration&quot;: true,                   /* Generates corresponding &apos;.d.ts&apos; file.生成相应的类型声明文件 */</span><br><span class="line">    // &quot;declarationMap&quot;: true,                /* Generates a sourcemap for each corresponding &apos;.d.ts&apos; file. 为每个类型声明文件生成相应的sourcemap*/</span><br><span class="line">    // &quot;sourceMap&quot;: true,                     /* Generates corresponding &apos;.map&apos; file. 生成对应的map文件 */</span><br><span class="line">    // &quot;outFile&quot;: &quot;./&quot;,                       /* Concatenate and emit output to single file. 合并并且把编译后的内容输出 到一个文件里*/</span><br><span class="line">    // &quot;outDir&quot;: &quot;./&quot;,                        /* Redirect output structure to the directory.按原始结构输出到目标目录 */</span><br><span class="line">    // &quot;rootDir&quot;: &quot;./&quot;,                       /* Specify the root directory of input files. Use to control the output directory structure with --outDir. 指定输入文件的根目录，用--outDir来控制输出的目录结构*/</span><br><span class="line">    // &quot;composite&quot;: true,                     /* Enable project compilation 启用项目编译*/</span><br><span class="line">    // &quot;removeComments&quot;: true,                /* Do not emit comments to output. 移除注释*/</span><br><span class="line">    // &quot;noEmit&quot;: true,                        /* Do not emit outputs. 不要输出*/</span><br><span class="line">    // &quot;importHelpers&quot;: true,                 /* Import emit helpers from &apos;tslib&apos;. */</span><br><span class="line">    // &quot;downlevelIteration&quot;: true,            /* Provide full support for iterables in &apos;for-of&apos;, spread, and destructuring when targeting &apos;ES5&apos; or &apos;ES3&apos;. 当目标是ES5或ES3的时候提供对for-of、扩展运算符和解构赋值中对于迭代器的完整支持*/</span><br><span class="line">    // &quot;isolatedModules&quot;: true,               /* Transpile each file as a separate module (similar to &apos;ts.transpileModule&apos;).r把每一个文件转译成一个单独的模块 */</span><br><span class="line"></span><br><span class="line">    /* Strict Type-Checking Options */</span><br><span class="line">    //&quot;strict&quot;: true,                           /* Enable all strict type-checking options. 启用完全的严格类型检查 */</span><br><span class="line">    // &quot;noImplicitAny&quot;: true,                 /* Raise error on expressions and declarations with an implied &apos;any&apos; type. 不能使用隐式的any类型*/</span><br><span class="line">    // &quot;strictNullChecks&quot;: true,              /* Enable strict null checks. 启用严格的NULL检查*/</span><br><span class="line">    // &quot;strictFunctionTypes&quot;: true,           /* Enable strict checking of function types. 启用严格的函数类型检查*/</span><br><span class="line">    // &quot;strictBindCallApply&quot;: true,           /* Enable strict &apos;bind&apos;, &apos;call&apos;, and &apos;apply&apos; methods on functions.启用函数上严格的bind call 和apply方法 */</span><br><span class="line">    // &quot;strictPropertyInitialization&quot;: true,  /* Enable strict checking of property initialization in classes. 启用类上初始化属性检查*/</span><br><span class="line">    // &quot;noImplicitThis&quot;: true,                /* Raise error on &apos;this&apos; expressions with an implied &apos;any&apos; type.在默认的any中调用 this表达式报错 */</span><br><span class="line">    // &quot;alwaysStrict&quot;: true,                  /* Parse in strict mode and emit &quot;use strict&quot; for each source file. 在严格模式下解析并且向每个源文件中发射use strict*/</span><br><span class="line"></span><br><span class="line">    /* Additional Checks */</span><br><span class="line">    // &quot;noUnusedLocals&quot;: true,                /* Report errors on unused locals. 有未使用到的本地变量时报错 */</span><br><span class="line">    // &quot;noUnusedParameters&quot;: true,            /* Report errors on unused parameters. 有未使用到的参数时报错*/</span><br><span class="line">    // &quot;noImplicitReturns&quot;: true,             /* Report error when not all code paths in function return a value. 当不是所有的代码路径都有返回值的时候报错*/</span><br><span class="line">    // &quot;noFallthroughCasesInSwitch&quot;: true,    /* Report errors for fallthrough cases in switch statement. 在switch表达式中没有替代的case会报错 */</span><br><span class="line"></span><br><span class="line">    /* Module Resolution Options */</span><br><span class="line">    // &quot;moduleResolution&quot;: &quot;node&quot;,            /* Specify module resolution strategy: &apos;node&apos; (Node.js) or &apos;classic&apos; (TypeScript pre-1.6). 指定模块的解析策略 node classic*/</span><br><span class="line">    // &quot;baseUrl&quot;: &quot;./&quot;,                       /* Base directory to resolve non-absolute module names. 在解析非绝对路径模块名的时候的基准路径*/</span><br><span class="line">    // &quot;paths&quot;: &#123;&#125;,                           /* A series of entries which re-map imports to lookup locations relative to the &apos;baseUrl&apos;. 一些路径的集合*/</span><br><span class="line">    // &quot;rootDirs&quot;: [],                        /* List of root folders whose combined content represents the structure of the project at runtime. 根目录的列表，在运行时用来合并内容*/</span><br><span class="line">    // &quot;typeRoots&quot;: [],                       /* List of folders to include type definitions from. 用来包含类型声明的文件夹列表*/</span><br><span class="line">    // &quot;types&quot;: [],                           /* Type declaration files to be included in compilation.在编译的时候被包含的类型声明 */</span><br><span class="line">    // &quot;allowSyntheticDefaultImports&quot;: true,  /* Allow default imports from modules with no default export. This does not affect code emit, just typechecking.当没有默认导出的时候允许默认导入，这个在代码执行的时候没有作用，只是在类型检查的时候生效 */</span><br><span class="line">    //&quot;esModuleInterop&quot;: true                   /* Enables emit interoperability between CommonJS and ES Modules via creation of namespace objects for all imports. Implies &apos;allowSyntheticDefaultImports&apos;.*/</span><br><span class="line">    // &quot;preserveSymlinks&quot;: true,              /* Do not resolve the real path of symlinks.不要symlinks解析的真正路径 */</span><br><span class="line"></span><br><span class="line">    /* Source Map Options */</span><br><span class="line">    // &quot;sourceRoot&quot;: &quot;&quot;,                      /* Specify the location where debugger should locate TypeScript files instead of source locations. 指定ts文件位置*/</span><br><span class="line">    // &quot;mapRoot&quot;: &quot;&quot;,                         /* Specify the location where debugger should locate map files instead of generated locations. 指定 map文件存放的位置 */</span><br><span class="line">    // &quot;inlineSourceMap&quot;: true,               /* Emit a single file with source maps instead of having a separate file. 源文件和sourcemap 文件在同一文件中，而不是把map文件放在一个单独的文件里*/</span><br><span class="line">    // &quot;inlineSources&quot;: true,                 /* Emit the source alongside the sourcemaps within a single file; requires &apos;--inlineSourceMap&apos; or &apos;--sourceMap&apos; to be set. 源文件和sourcemap 文件在同一文件中*/</span><br><span class="line"></span><br><span class="line">    /* Experimental Options */</span><br><span class="line">    // &quot;experimentalDecorators&quot;: true,        /* Enables experimental support for ES7 decorators. 启动装饰器*/</span><br><span class="line">    // &quot;emitDecoratorMetadata&quot;: true,         /* Enables experimental support for emitting type metadata for decorators. */</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="执行编译"><a href="#执行编译" class="headerlink" title="执行编译"></a>执行编译</h4><blockquote>
<p>tsc </p>
</blockquote>
<h4 id="vscode运行"><a href="#vscode运行" class="headerlink" title="vscode运行"></a>vscode运行</h4><ul>
<li>Terminal-&gt;Run Task-&gt; tsc:build 编译</li>
<li>Terminal-&gt;Run Task-&gt; tsc:watch 编译并监听</li>
</ul>
<h4 id="npm-scripts"><a href="#npm-scripts" class="headerlink" title="npm scripts"></a>npm scripts</h4><ul>
<li>npm run 实际上是调用本地的 Shell 来执行对应的 script value，所以理论上能兼容所有 bash 命令</li>
<li>Shell 在类 Unix 系统上是 /bin/sh，在 Windows 上是 cmd.exe</li>
</ul>
<h4 id="npm-scripts-的-PATH"><a href="#npm-scripts-的-PATH" class="headerlink" title="npm scripts 的 PATH"></a>npm scripts 的 PATH</h4><ul>
<li>npm run 会预置 PATH，对应包下的 node_modules/.bin 目录</li>
</ul>
<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><h3 id="布尔类型-boolean"><a href="#布尔类型-boolean" class="headerlink" title="布尔类型(boolean)"></a>布尔类型(boolean)</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> married: boolean=<span class="literal">false</span>;</span><br></pre></td></tr></table></figure>

<h3 id="数字类型-number"><a href="#数字类型-number" class="headerlink" title="数字类型(number)"></a>数字类型(number)</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age: number=<span class="number">10</span>;</span><br></pre></td></tr></table></figure>

<h3 id="字符串类型-string"><a href="#字符串类型-string" class="headerlink" title="字符串类型(string)"></a>字符串类型(string)</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> firstname: string=<span class="string">'zhiweili'</span>;</span><br></pre></td></tr></table></figure>

<h3 id="数组类型-array"><a href="#数组类型-array" class="headerlink" title="数组类型(array)"></a>数组类型(array)</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr2: number[]=[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line"><span class="keyword">let</span> arr3: <span class="built_in">Array</span>&lt;number&gt;=[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>];</span><br></pre></td></tr></table></figure>

<h3 id="元组类型-tuple"><a href="#元组类型-tuple" class="headerlink" title="元组类型(tuple)"></a>元组类型(tuple)</h3><p>在 TypeScript 的基础类型中，元组（ Tuple ）表示一个已知数量和类型的数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr:[string,number] = [<span class="string">'arr'</span>,<span class="number">5</span>];</span><br><span class="line">arr[<span class="number">0</span>].length;</span><br><span class="line">arr[<span class="number">1</span>].toFixed(<span class="number">2</span>);</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th><strong>元组</strong></th>
<th>数组</th>
</tr>
</thead>
<tbody><tr>
<td>每一项可以是不同的类型</td>
<td>每一项都是同一种类型</td>
</tr>
<tr>
<td>有预定义的长度</td>
<td>没有长度限制</td>
</tr>
<tr>
<td>用于表示一个结构</td>
<td>用于表示一个列表</td>
</tr>
</tbody></table>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> animal:[string,number,boolean] = [<span class="string">'dog'</span>,<span class="number">10</span>,<span class="literal">true</span>];</span><br></pre></td></tr></table></figure>

<h3 id="枚举类型-enum"><a href="#枚举类型-enum" class="headerlink" title="枚举类型(enum)"></a>枚举类型(enum)</h3><ul>
<li>事先考虑某一个变量的所有的可能的值，尽量用自然语言中的单词表示它的每一个值</li>
<li>比如性别、月份、星期、颜色、单位、学历</li>
</ul>
<h4 id="普通枚举"><a href="#普通枚举" class="headerlink" title="普通枚举"></a>普通枚举</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">enum Gender&#123;</span><br><span class="line">    GIRL,</span><br><span class="line">    BOY</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`张三是<span class="subst">$&#123;Gender.BOY&#125;</span>`</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`李四是<span class="subst">$&#123;Gender.GIRL&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line">enum Week&#123;</span><br><span class="line">    MONDAY=<span class="number">1</span>,</span><br><span class="line">    TUESDAY=<span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`今天是星期<span class="subst">$&#123;Week.MONDAY&#125;</span>`</span>);</span><br></pre></td></tr></table></figure>

<h4 id="常数枚举"><a href="#常数枚举" class="headerlink" title="常数枚举"></a>常数枚举</h4><ul>
<li>常数枚举与普通枚举的区别是，它会在编译阶段被删除，并且不能包含计算成员。</li>
<li>假如包含了计算成员，则会在编译阶段报错</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> enum Colors &#123;</span><br><span class="line">    Red,</span><br><span class="line">    Yellow,</span><br><span class="line">    Blue</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myColors = [Colors.Red, Colors.Yellow, Colors.Blue];</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> enum Color &#123;Red, Yellow, Blue = <span class="string">"blue"</span>.length&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="任意类型-any"><a href="#任意类型-any" class="headerlink" title="任意类型(any)"></a>任意类型(any)</h3><ul>
<li>any就是可以赋值给任意类型</li>
<li>第三方库没有提供类型文件时可以使用any</li>
<li>类型转换遇到困难时</li>
<li>数据结构太复杂难以定义</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> root:any=<span class="built_in">document</span>.getElementById(<span class="string">'root'</span>);</span><br><span class="line">root.style.color=<span class="string">'red'</span>;</span><br></pre></td></tr></table></figure>

<h3 id="null-和-undefined"><a href="#null-和-undefined" class="headerlink" title="null 和 undefined"></a>null 和 undefined</h3><ul>
<li>null 和 undefined 是其它类型的子类型，可以赋值给其它类型，如数字类型，此时，赋值后的类型会变成 null 或 undefined</li>
<li>strictNullChecks</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x: number;</span><br><span class="line">x = <span class="number">1</span>;</span><br><span class="line">x = <span class="literal">undefined</span>;    </span><br><span class="line">x = <span class="literal">null</span>;   </span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> y: number | <span class="literal">null</span> | <span class="literal">undefined</span>;</span><br><span class="line">y = <span class="number">1</span>;</span><br><span class="line">y = <span class="literal">undefined</span>;   </span><br><span class="line">y = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>

<h3 id="void-类型"><a href="#void-类型" class="headerlink" title="void 类型"></a>void 类型</h3><ul>
<li>void 表示没有任何类型</li>
<li>当一个函数没有返回值时，TS 会认为它的返回值是 void 类型。</li>
<li>当我们声明一个变量类型是 void 的时候，它的非严格模式下仅可以被赋值为 null 和 undefined;</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">greeting</span>(<span class="params">name:string</span>):<span class="title">void</span> </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'hello'</span>,name);</span><br><span class="line">&#125;</span><br><span class="line">greeting(<span class="string">'zhiweili'</span>);</span><br></pre></td></tr></table></figure>

<h3 id="never类型"><a href="#never类型" class="headerlink" title="never类型"></a>never类型</h3><p>never是其它类型(null undefined)的子类型，代表不会出现的值</p>
<h4 id="作为不会返回（-return-）的函数的返回值类型"><a href="#作为不会返回（-return-）的函数的返回值类型" class="headerlink" title="作为不会返回（ return ）的函数的返回值类型"></a>作为不会返回（ return ）的函数的返回值类型</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 返回never的函数 必须存在 无法达到（ unreachable ） 的终点</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">error</span>(<span class="params">message: string</span>): <span class="title">never</span> </span>&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(message);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 由类型推论得到返回值为 never</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fail</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> error(<span class="string">"Something failed"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回never的函数 必须存在 无法达到（ unreachable ） 的终点</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">infiniteLoop</span>(<span class="params"></span>): <span class="title">never</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="strictNullChecks"><a href="#strictNullChecks" class="headerlink" title="strictNullChecks"></a>strictNullChecks</h4><ul>
<li>在 TS 中， null 和 undefined 是任何类型的有效值，所以无法正确地检测它们是否被错误地使用。于是 TS 引入了 –strictNullChecks 这一种检查模式</li>
<li>由于引入了 –strictNullChecks ，在这一模式下，null 和 undefined 能被检测到。所以 TS 需要一种新的底部类型（ bottom type ）。所以就引入了 never。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Compiled with --strictNullChecks</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">x: number | string</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> x === <span class="string">'number'</span>) &#123;</span><br><span class="line">    <span class="comment">// x: number 类型</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> x === <span class="string">'string'</span>) &#123;</span><br><span class="line">    <span class="comment">// x: string 类型</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// x: never 类型</span></span><br><span class="line">    <span class="comment">// --strictNullChecks 模式下，这里的代码将不会被执行，x 无法被观察</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="never-和-void-的区别"><a href="#never-和-void-的区别" class="headerlink" title="never 和 void 的区别"></a>never 和 void 的区别</h4><ul>
<li>void 可以被赋值为 null 和 undefined的类型。 never 则是一个不包含值的类型。</li>
<li>拥有 void 返回值类型的函数能正常运行。拥有 never 返回值类型的函数无法正常返回，无法终止，或会抛出异常。</li>
</ul>
<h3 id="类型推论"><a href="#类型推论" class="headerlink" title="类型推论"></a>类型推论</h3><ul>
<li>是指编程语言中能够自动推导出值的类型的能力，它是一些强静态类型语言中出现的特性</li>
<li>定义时未赋值就会推论成any类型</li>
<li>如果定义的时候就赋值就能利用到类型推论</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> username2;</span><br><span class="line">username2 = <span class="number">10</span>;</span><br><span class="line">username2 = <span class="string">'zhiweili'</span>;</span><br><span class="line">username2 = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>

<h3 id="包装对象（Wrapper-Object）"><a href="#包装对象（Wrapper-Object）" class="headerlink" title="包装对象（Wrapper Object）"></a>包装对象（Wrapper Object）</h3><ul>
<li>JavaScript 的类型分为两种：原始数据类型（Primitive data types）和对象类型（Object types）。</li>
<li>所有的原始数据类型都没有属性（property）</li>
<li>原始数据类型<ul>
<li>布尔值</li>
<li>数值</li>
<li>字符串</li>
<li>null</li>
<li>undefined</li>
<li>Symbol</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">'zhiweili'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(name.toUpperCase());</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log((<span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'zhiweili'</span>)).toUpperCase());</span><br></pre></td></tr></table></figure>

<ul>
<li>当调用基本数据类型方法的时候，JavaScript 会在原始数据类型和对象类型之间做一个迅速的强制性切换</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> isOK: boolean = <span class="literal">true</span>; <span class="comment">// 编译通过</span></span><br><span class="line"><span class="keyword">let</span> isOK: boolean = <span class="built_in">Boolean</span>(<span class="number">1</span>) <span class="comment">// 编译通过</span></span><br><span class="line"><span class="keyword">let</span> isOK: boolean = <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="number">1</span>); <span class="comment">// 编译失败   期望的 isOK 是一个原始数据类型</span></span><br></pre></td></tr></table></figure>

<h3 id="联合类型"><a href="#联合类型" class="headerlink" title="联合类型"></a>联合类型</h3><p>联合类型上只能访问两个类型共有的属性和方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name4: string | number;</span><br><span class="line">name4 = <span class="number">3</span>;</span><br><span class="line">name4 = <span class="string">'zhiweili'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(name4.toUpperCase());</span><br></pre></td></tr></table></figure>

<h3 id="类型断言"><a href="#类型断言" class="headerlink" title="类型断言"></a>类型断言</h3><ul>
<li>类型断言可以将一个联合类型的变量，指定为一个更加具体的类型</li>
<li>不能将联合类型断言为不存在的类型</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name5: string | number;</span><br><span class="line">(name5 <span class="keyword">as</span> number).toFixed(<span class="number">3</span>);</span><br><span class="line">(name5 <span class="keyword">as</span> string).length;</span><br><span class="line">(name5 <span class="keyword">as</span> boolean);</span><br></pre></td></tr></table></figure>

<h3 id="字符串、数字、布尔值字面量"><a href="#字符串、数字、布尔值字面量" class="headerlink" title="字符串、数字、布尔值字面量"></a>字符串、数字、布尔值字面量</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">type Lucky = <span class="number">1</span> | <span class="string">'One'</span>|<span class="literal">true</span>;</span><br><span class="line"><span class="keyword">let</span> foo:Lucky = <span class="string">'One'</span>;</span><br></pre></td></tr></table></figure>

<h3 id="字符串字面量-vs-联合类型"><a href="#字符串字面量-vs-联合类型" class="headerlink" title="字符串字面量 vs 联合类型"></a>字符串字面量 vs 联合类型</h3><ul>
<li>字符串字面量类型用来约束取值只能是某几个字符串中的一个, 联合类型（Union Types）表示取值可以为多种类型中的一种</li>
<li>字符串字面量 限定了使用该字面量的地方仅接受特定的值,联合类型 对于值并没有限定，仅仅限定值的类型需要保持一致</li>
</ul>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="函数的定义"><a href="#函数的定义" class="headerlink" title="函数的定义"></a>函数的定义</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hello</span>(<span class="params">name:string</span>):<span class="title">void</span> </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'hello'</span>,name);</span><br><span class="line">&#125;</span><br><span class="line">hello(<span class="string">'zhiweili'</span>);</span><br></pre></td></tr></table></figure>

<h3 id="函数表达式"><a href="#函数表达式" class="headerlink" title="函数表达式"></a>函数表达式</h3><p>定义函数类型</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">type GetUsernameFunction = <span class="function">(<span class="params">x:string,y:string</span>)=&gt;</span>string;</span><br><span class="line"><span class="keyword">let</span> getUsername:GetUsernameFunction = <span class="function"><span class="keyword">function</span>(<span class="params">firstName,lastName</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> firstName + lastName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="没有返回值"><a href="#没有返回值" class="headerlink" title="没有返回值"></a>没有返回值</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> hello2 = <span class="function"><span class="keyword">function</span> (<span class="params">name:string</span>):<span class="title">void</span> </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'hello2'</span>,name);</span><br><span class="line">&#125;</span><br><span class="line">hello(<span class="string">'zhiweili'</span>);</span><br><span class="line">hello2(<span class="string">'zhiweili'</span>);</span><br></pre></td></tr></table></figure>

<h3 id="可选参数"><a href="#可选参数" class="headerlink" title="可选参数"></a>可选参数</h3><p>在TS中函数的形参和实参必须一样，不一样就要配置可选参数,而且必须是最后一个参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params">name:string,age?:number</span>):<span class="title">void</span> </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(name,age);</span><br><span class="line">&#125;</span><br><span class="line">print(<span class="string">'zhiweili'</span>);</span><br></pre></td></tr></table></figure>

<h3 id="默认参数"><a href="#默认参数" class="headerlink" title="默认参数"></a>默认参数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ajax</span>(<span class="params">url:string,method:string=<span class="string">'GET'</span></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(url,method);</span><br><span class="line">&#125;</span><br><span class="line">ajax(<span class="string">'/users'</span>);</span><br></pre></td></tr></table></figure>

<h3 id="剩余参数"><a href="#剩余参数" class="headerlink" title="剩余参数"></a>剩余参数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">...numbers:number[]</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> numbers.reduce(<span class="function">(<span class="params">val,item</span>)=&gt;</span>val+=item,<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>));</span><br></pre></td></tr></table></figure>

<h3 id="函数重载"><a href="#函数重载" class="headerlink" title="函数重载"></a>函数重载</h3><ul>
<li>在Java中的重载，指的是两个或者两个以上的同名函数，参数不一样</li>
<li>在TypeScript中，表现为给同一个函数提供多个函数类型定义</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj: any=&#123;&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">attr</span>(<span class="params">val: string</span>): <span class="title">void</span>;</span></span><br><span class="line"><span class="function"><span class="title">function</span> <span class="title">attr</span>(<span class="params">val: number</span>): <span class="title">void</span>;</span></span><br><span class="line"><span class="function"><span class="title">function</span> <span class="title">attr</span>(<span class="params">val:any</span>):<span class="title">void</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> val === <span class="string">'number'</span>) &#123;</span><br><span class="line">        obj.age=val;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        obj.name=val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">attr(<span class="string">'zhiweili'</span>);</span><br><span class="line">attr(<span class="number">9</span>);</span><br><span class="line">attr(<span class="literal">true</span>);</span><br><span class="line"><span class="built_in">console</span>.log(obj);</span><br></pre></td></tr></table></figure>

<h2 id="类"><a href="#类" class="headerlink" title="类"></a>类</h2><h3 id="如何定义类"><a href="#如何定义类" class="headerlink" title="如何定义类"></a>如何定义类</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    name:string;</span><br><span class="line">    getName():<span class="keyword">void</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p1 = <span class="keyword">new</span> Person();</span><br><span class="line">p1.name = <span class="string">'zhiweili'</span>;</span><br><span class="line">p1.getName();</span><br></pre></td></tr></table></figure>

<h3 id="存取器"><a href="#存取器" class="headerlink" title="存取器"></a>存取器</h3><ul>
<li>在 TypeScript 中，我们可以通过存取器来改变一个类中属性的读取和赋值行为</li>
<li>构造函数<ul>
<li>主要用于初始化类的成员变量属性</li>
<li>类的对象创建时自动调用执行</li>
<li>没有返回值</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    myname:string;</span><br><span class="line">    <span class="keyword">constructor</span>(myname: string) &#123;</span><br><span class="line">        <span class="keyword">this</span>.myname = myname;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">get</span> name() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.myname;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">set</span> name(value) &#123;</span><br><span class="line">        <span class="keyword">this</span>.myname = value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> user = <span class="keyword">new</span> User(<span class="string">'zhiweili'</span>);</span><br><span class="line">user.name = <span class="string">'zhiweili2'</span>; </span><br><span class="line"><span class="built_in">console</span>.log(user.name);</span><br></pre></td></tr></table></figure>

<h3 id="参数属性"><a href="#参数属性" class="headerlink" title="参数属性"></a>参数属性</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(public myname: string) &#123;&#125;</span><br><span class="line">    <span class="keyword">get</span> name() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.myname;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">set</span> name(value) &#123;</span><br><span class="line">        <span class="keyword">this</span>.myname = value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> user = <span class="keyword">new</span> User(<span class="string">'zhiweili1'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(user.name); </span><br><span class="line">user.name = <span class="string">'zhiweili2'</span>; </span><br><span class="line"><span class="built_in">console</span>.log(user.name);</span><br></pre></td></tr></table></figure>

<h3 id="readonly"><a href="#readonly" class="headerlink" title="readonly"></a>readonly</h3><ul>
<li>readonly修饰的变量只能在构造函数中初始化</li>
<li>在 TypeScript 中，const 是常量标志符，其值不能被重新分配</li>
<li>TypeScript 的类型系统同样也允许将 interface、type、 class 上的属性标识为 readonly</li>
<li>readonly 实际上只是在编译阶段进行代码检查。而 const 则会在运行时检查（在支持 const 语法的 JavaScript 运行时环境中）</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    public readonly name: string</span><br><span class="line">    <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    changeName(name:string)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> Animal(<span class="string">'dog'</span>);</span><br><span class="line">a.changeName(<span class="string">'cat'</span>);</span><br></pre></td></tr></table></figure>

<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><ul>
<li>子类继承父类后子类的实例就拥有了父类中的属性和方法，可以增强代码的可复用性</li>
<li>将子类公用的方法抽象出来放在父类中，自己的特殊逻辑放在子类中重写父类的逻辑</li>
<li>super可以调用父类上的方法和属性</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    name: string;<span class="comment">//定义实例的属性，默认省略public修饰符</span></span><br><span class="line">    age: number;</span><br><span class="line">    <span class="keyword">constructor</span>(name:string,age:number) &#123;<span class="comment">//构造函数</span></span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">        <span class="keyword">this</span>.age=age;</span><br><span class="line">    &#125;</span><br><span class="line">    getName():string &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">    setName(name:string): <span class="keyword">void</span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    no: number;</span><br><span class="line">    <span class="keyword">constructor</span>(name:string,age:number,no:number) &#123;</span><br><span class="line">        <span class="keyword">super</span>(name,age);</span><br><span class="line">        <span class="keyword">this</span>.no=no;</span><br><span class="line">    &#125;</span><br><span class="line">    getNo():number &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.no;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> s1=<span class="keyword">new</span> Student(<span class="string">'zhiweili'</span>,<span class="number">10</span>,<span class="number">1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(s1);</span><br></pre></td></tr></table></figure>

<h3 id="类里面的修饰符"><a href="#类里面的修饰符" class="headerlink" title="类里面的修饰符"></a>类里面的修饰符</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Father</span> </span>&#123;</span><br><span class="line">    public name: string;  <span class="comment">//类里面 子类 其它任何地方外边都可以访问</span></span><br><span class="line">    protected age: number; <span class="comment">//类里面 子类 都可以访问,其它任何地方不能访问</span></span><br><span class="line">    private money: number; <span class="comment">//类里面可以访问， 子类和其它任何地方都不可以访问</span></span><br><span class="line">    <span class="keyword">constructor</span>(name:string,age:number,money:number) &#123;<span class="comment">//构造函数</span></span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">        <span class="keyword">this</span>.age=age;</span><br><span class="line">        <span class="keyword">this</span>.money=money;</span><br><span class="line">    &#125;</span><br><span class="line">    getName():string &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">    setName(name:string): <span class="keyword">void</span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Child</span> <span class="keyword">extends</span> <span class="title">Father</span></span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name:string,age:number,money:number) &#123;</span><br><span class="line">        <span class="keyword">super</span>(name,age,money);</span><br><span class="line">    &#125;</span><br><span class="line">    desc() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span> <span class="subst">$&#123;<span class="keyword">this</span>.age&#125;</span> <span class="subst">$&#123;<span class="keyword">this</span>.money&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> child = <span class="keyword">new</span> Child(<span class="string">'zhiweili'</span>,<span class="number">10</span>,<span class="number">1000</span>);</span><br><span class="line"><span class="built_in">console</span>.log(child.name);</span><br><span class="line"><span class="built_in">console</span>.log(child.age);</span><br><span class="line"><span class="built_in">console</span>.log(child.money);</span><br></pre></td></tr></table></figure>

<h3 id="静态属性-静态方法"><a href="#静态属性-静态方法" class="headerlink" title="静态属性 静态方法"></a>静态属性 静态方法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Father</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> className=<span class="string">'Father'</span>;</span><br><span class="line">    <span class="keyword">static</span> getClassName() &#123;</span><br><span class="line">        <span class="keyword">return</span> Father.className;</span><br><span class="line">    &#125;</span><br><span class="line">    public name: string;</span><br><span class="line">    <span class="keyword">constructor</span>(name:string) &#123;<span class="comment">//构造函数</span></span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(Father.className);</span><br><span class="line"><span class="built_in">console</span>.log(Father.getClassName());</span><br></pre></td></tr></table></figure>

<h3 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h3><ul>
<li>抽象描述一种抽象的概念，无法被实例化，只能被继承</li>
<li>无法创建抽象类的实例</li>
<li>抽象方法不能在抽象类中实现，只能在抽象类的具体子类中实现，而且必须实现</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">abstract <span class="class"><span class="keyword">class</span> <span class="title">Animal3</span> </span>&#123;</span><br><span class="line">    name:string;</span><br><span class="line">    abstract speak();</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal3</span></span>&#123;</span><br><span class="line">    speak()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'喵喵喵'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> cat = <span class="keyword">new</span> Cat();</span><br><span class="line">cat.speak();</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>访问控制修饰符</th>
<th>private protected public</th>
</tr>
</thead>
<tbody><tr>
<td>只读属性</td>
<td>readonly</td>
</tr>
<tr>
<td>静态属性</td>
<td>static</td>
</tr>
<tr>
<td>抽象类、抽象方法</td>
<td>abstract</td>
</tr>
</tbody></table>
<h3 id="抽象类-vs-接口"><a href="#抽象类-vs-接口" class="headerlink" title="抽象类 vs 接口"></a>抽象类 vs 接口</h3><ul>
<li>不同类之间公有的属性或方法，可以抽象成一个接口（Interfaces）</li>
<li>而抽象类是供其他类继承的基类，抽象类不允许被实例化。抽象类中的抽象方法必须在子类中被实现</li>
<li>抽象类本质是一个无法被实例化的类，其中能够实现方法和初始化属性，而接口仅能够用于描述,既不提供方法的实现，也不为属性进行初始化</li>
<li>一个类可以继承一个类或抽象类，但可以实现（implements）多个接口</li>
<li>抽象类也可以实现接口</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">abstract <span class="class"><span class="keyword">class</span> <span class="title">Animal5</span></span>&#123;</span><br><span class="line">  name:string;</span><br><span class="line">  <span class="keyword">constructor</span>(name:string)&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  abstract speak();</span><br><span class="line">&#125;</span><br><span class="line">interface Flying&#123;</span><br><span class="line">    fly()</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Duck</span> <span class="keyword">extends</span> <span class="title">Animal5</span> <span class="title">implements</span> <span class="title">Flying</span></span>&#123;</span><br><span class="line">    speak()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'汪汪汪'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    fly()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'我会飞'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> duck = <span class="keyword">new</span> Duck(<span class="string">'zhiweili'</span>);</span><br><span class="line">duck.speak();</span><br><span class="line">duck.fly();</span><br></pre></td></tr></table></figure>

<h3 id="抽象方法"><a href="#抽象方法" class="headerlink" title="抽象方法"></a>抽象方法</h3><ul>
<li>抽象类和方法不包含具体实现，必须在子类中实现</li>
<li>抽象方法只能出现在抽象类中</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">abstract <span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">    abstract speak():<span class="keyword">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span>  <span class="title">Animal</span></span>&#123;</span><br><span class="line">    speak()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'小狗汪汪汪'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span>  <span class="title">Animal</span></span>&#123;</span><br><span class="line">    speak()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'小猫喵喵喵'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> dog=<span class="keyword">new</span> Dog();</span><br><span class="line"><span class="keyword">let</span> cat=<span class="keyword">new</span> Cat();</span><br><span class="line">dog.speak();</span><br><span class="line">cat.speak();</span><br></pre></td></tr></table></figure>

<h3 id="重写（override）-vs-重载（overload）"><a href="#重写（override）-vs-重载（overload）" class="headerlink" title="重写（override） vs 重载（overload）"></a>重写（override） vs 重载（overload）</h3><ul>
<li>重写是指子类重写继承自父类中的方法</li>
<li>重载是指为同一个函数提供多个类型定义</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat6</span> <span class="keyword">extends</span> <span class="title">Animal6</span></span>&#123;</span><br><span class="line">    speak(word:string):string&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'Cat:'</span>+word;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> cat6 = <span class="keyword">new</span> Cat6();</span><br><span class="line"><span class="built_in">console</span>.log(cat6.speak(<span class="string">'hello'</span>));</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">double</span>(<span class="params">val:number</span>):<span class="title">number</span></span></span><br><span class="line"><span class="function"><span class="title">function</span> <span class="title">double</span>(<span class="params">val:string</span>):<span class="title">string</span></span></span><br><span class="line"><span class="function"><span class="title">function</span> <span class="title">double</span>(<span class="params">val:any</span>):<span class="title">any</span></span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">typeof</span> val == <span class="string">'number'</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> val *<span class="number">2</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> val + val;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> r = double(<span class="number">1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(r);</span><br></pre></td></tr></table></figure>

<h3 id="继承-vs-多态"><a href="#继承-vs-多态" class="headerlink" title="继承 vs 多态"></a>继承 vs 多态</h3><ul>
<li>继承（Inheritance）子类继承父类，子类除了拥有父类的所有特性外，还有一些更具体的特性</li>
<li>多态（Polymorphism）由继承而产生了相关的不同的类，对同一个方法可以有不同的响应</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal7</span></span>&#123;</span><br><span class="line">    speak(word:string):string&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'Animal: '</span>+word;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat7</span> <span class="keyword">extends</span> <span class="title">Animal7</span></span>&#123;</span><br><span class="line">    speak(word:string):string&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'Cat:'</span>+word;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog7</span> <span class="keyword">extends</span> <span class="title">Animal7</span></span>&#123;</span><br><span class="line">    speak(word:string):string&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'Dog:'</span>+word;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> cat7 = <span class="keyword">new</span> Cat7();</span><br><span class="line"><span class="built_in">console</span>.log(cat7.speak(<span class="string">'hello'</span>));</span><br><span class="line"><span class="keyword">let</span> dog7 = <span class="keyword">new</span> Dog7();</span><br><span class="line"><span class="built_in">console</span>.log(dog7.speak(<span class="string">'hello'</span>));</span><br></pre></td></tr></table></figure>

<h2 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h2><ul>
<li>接口一方面可以在面向对象编程中表示为行为的抽象，另外可以用来描述对象的形状</li>
<li>接口就是把一些类中共有的属性和方法抽象出来,可以用来约束实现此接口的类</li>
<li>一个类可以继承另一个类并实现多个接口</li>
<li>接口像插件一样是用来增强类的，而抽象类是具体类的抽象概念</li>
<li>一个类可以实现多个接口，一个接口也可以被多个类实现，但一个类的可以有多个子类，但只能有一个父类</li>
</ul>
<h3 id="接口-1"><a href="#接口-1" class="headerlink" title="接口"></a>接口</h3><p>interface中可以用分号或者逗号分割每一项，也可以什么都不加</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//接口可以用来描述`对象的形状`,少属性或者多属性都会报错</span></span><br><span class="line">interface Speakable&#123;</span><br><span class="line">  speak():<span class="keyword">void</span>;</span><br><span class="line">  name?:string;<span class="comment">//？表示可选属性</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> speakman:Speakable = &#123;</span><br><span class="line">  name:string;<span class="comment">//多属性也会报错</span></span><br><span class="line">  speak()&#123;&#125;<span class="comment">//少属性会报错</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//接口可以在面向对象编程中表示为行为的抽象</span></span><br><span class="line">interface Speakable&#123;</span><br><span class="line">    speak():<span class="keyword">void</span>;</span><br><span class="line">&#125;</span><br><span class="line">interface Eatable&#123;</span><br><span class="line">    eat():<span class="keyword">void</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person5</span> <span class="title">implements</span> <span class="title">Speakable</span>,<span class="title">Eatable</span></span>&#123;</span><br><span class="line">    speak()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'Person5说话'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    eat()&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TangDuck</span> <span class="title">implements</span> <span class="title">Speakable</span></span>&#123;</span><br><span class="line">    speak()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'TangDuck说话'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    eat()&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//无法预先知道有哪些新的属性的时候,可以使用 `[propName:string]:any`,propName名字是任意的</span></span><br><span class="line">interface Person &#123;</span><br><span class="line">  readonly id: number;</span><br><span class="line">  name: string;</span><br><span class="line">  [propName: string]: any;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p1 = &#123;</span><br><span class="line">  id:<span class="number">1</span>,</span><br><span class="line">  name:<span class="string">'zhiweili'</span>,</span><br><span class="line">  age:<span class="number">10</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="接口的继承"><a href="#接口的继承" class="headerlink" title="接口的继承"></a>接口的继承</h3><p>一个接口可以继承自另外一个接口</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">interface Speakable&#123;</span><br><span class="line">  speak():<span class="keyword">void</span></span><br><span class="line">&#125;</span><br><span class="line">interface SpeakChinese extends Speakable&#123;</span><br><span class="line">  speakChinese():<span class="keyword">void</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person5</span> <span class="title">implements</span> <span class="title">SpeakChinese</span></span>&#123;</span><br><span class="line">  speak()&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Person5'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  speakChinese()&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'speakChinese'</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="readonly-1"><a href="#readonly-1" class="headerlink" title="readonly"></a>readonly</h3><p>用 readonly 定义只读属性可以避免由于多人协作或者项目较为复杂等因素造成对象的值被重写</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">interface Person&#123;</span><br><span class="line">  readonly id:number;</span><br><span class="line">  name:string</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> tom:Person = &#123;</span><br><span class="line">  id :<span class="number">1</span>,</span><br><span class="line">  name:<span class="string">'zhiweili'</span></span><br><span class="line">&#125;</span><br><span class="line">tom.id = <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<h3 id="函数类型接口"><a href="#函数类型接口" class="headerlink" title="函数类型接口"></a>函数类型接口</h3><p>对方法传入的参数和返回值进行约束</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">interface discount&#123;</span><br><span class="line">  (price:number):number</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> cost:discount = <span class="function"><span class="keyword">function</span>(<span class="params">price:number</span>):<span class="title">number</span></span>&#123;</span><br><span class="line">   <span class="keyword">return</span> price * <span class="number">.8</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="可索引接口"><a href="#可索引接口" class="headerlink" title="可索引接口"></a>可索引接口</h3><ul>
<li>对数组和对象进行约束</li>
<li>userInterface 表示：只要 index 的类型是 number，那么值的类型必须是 string</li>
<li>UserInterface2 表示：只要 index 的类型是 string，那么值的类型必须是 string</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">interface UserInterface &#123;</span><br><span class="line">  [index:number]:string</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr:UserInterface = [<span class="string">'zhiweili1'</span>,<span class="string">'zhiweili2'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br><span class="line"></span><br><span class="line">interface UserInterface2 &#123;</span><br><span class="line">  [index:string]:string</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj:UserInterface2 = &#123;<span class="attr">name</span>:<span class="string">'zhiweili'</span>&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="类接口"><a href="#类接口" class="headerlink" title="类接口"></a>类接口</h3><p>对类的约束</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">interface Speakable&#123;</span><br><span class="line">  name:string;</span><br><span class="line">  speak(words:string):<span class="keyword">void</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="title">implements</span> <span class="title">Speakable</span></span>&#123;</span><br><span class="line">   name:string;</span><br><span class="line">   speak(words)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(words);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> dog=<span class="keyword">new</span> Dog();</span><br><span class="line">dog.speak(<span class="string">'汪汪汪'</span>);</span><br></pre></td></tr></table></figure>

<h3 id="构造函数的类型"><a href="#构造函数的类型" class="headerlink" title="构造函数的类型"></a>构造函数的类型</h3><ul>
<li>在 TypeScript 中，我们可以用 interface 来描述类</li>
<li>同时也可以使用interface里特殊的new()关键字来描述类的构造函数类型</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(public name:string)&#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">interface WithNameClass&#123;</span><br><span class="line">  <span class="keyword">new</span>(name:string):Animal</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createAnimal</span>(<span class="params">clazz:WithNameClass,name:string</span>)</span>&#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">new</span> clazz(name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> a = createAnimal(Animal,<span class="string">'zhiweili'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(a.name);</span><br></pre></td></tr></table></figure>

<h2 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h2><ul>
<li>泛型（Generics）是指在定义函数、接口或类的时候，不预先指定具体的类型，而在使用的时候再指定类型的一种特性</li>
<li>泛型T作用域只限于函数内部使用</li>
</ul>
<h3 id="泛型函数"><a href="#泛型函数" class="headerlink" title="泛型函数"></a>泛型函数</h3><p>首先，我们来实现一个函数 createArray，它可以创建一个指定长度的数组，同时将每一项都填充一个默认值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createArray</span>(<span class="params">length: number, value: any</span>): <span class="title">Array</span>&lt;<span class="title">any</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> result: any = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">    result[i] = value;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> result = createArray(<span class="number">3</span>,<span class="string">'x'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createArray</span>(<span class="params">length: number, value: any</span>): <span class="title">Array</span>&lt;<span class="title">any</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> result: any = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">    result[i] = value;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> result = createArray(<span class="number">3</span>,<span class="string">'x'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createArray2</span>&lt;<span class="title">T</span>&gt;(<span class="params">length: number, value: T</span>): <span class="title">Array</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> result: T[] = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">    result[i] = value;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> result2 = createArray2&lt;string&gt;(<span class="number">3</span>,<span class="string">'x'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure>

<h3 id="类数组"><a href="#类数组" class="headerlink" title="类数组"></a>类数组</h3><p>类数组（Array-like Object）不是数组类型，比如 arguments</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">...parameters:number[]</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">let</span> args:IArguments = <span class="built_in">arguments</span>;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;args.length;i++)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(args[i]);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">sum(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line"><span class="keyword">let</span> root = <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>);</span><br><span class="line"><span class="keyword">let</span> children:HTMLCollection = root.children;</span><br><span class="line">children.length;</span><br><span class="line"><span class="keyword">let</span> nodeList:NodeList = root.childNodes;</span><br><span class="line">nodeList.length;</span><br></pre></td></tr></table></figure>

<h3 id="泛型类"><a href="#泛型类" class="headerlink" title="泛型类"></a>泛型类</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyArray</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">    private list:T[]=[];</span><br><span class="line">    add(value:T) &#123;</span><br><span class="line">        <span class="keyword">this</span>.list.push(value);</span><br><span class="line">    &#125;</span><br><span class="line">    getMax():T &#123;</span><br><span class="line">        <span class="keyword">let</span> result=<span class="keyword">this</span>.list[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;<span class="keyword">this</span>.list.length;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">this</span>.list[i]&gt;result) &#123;</span><br><span class="line">                result=<span class="keyword">this</span>.list[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr=<span class="keyword">new</span> MyArray();</span><br><span class="line">arr.add(<span class="number">1</span>); arr.add(<span class="number">2</span>); arr.add(<span class="number">3</span>);</span><br><span class="line"><span class="keyword">let</span> ret = arr.getMax();</span><br><span class="line"><span class="built_in">console</span>.log(ret);</span><br></pre></td></tr></table></figure>

<h3 id="泛型接口"><a href="#泛型接口" class="headerlink" title="泛型接口"></a>泛型接口</h3><p>泛型接口可以用来约束函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">interface Calculate&#123;</span><br><span class="line">  &lt;T&gt;(a:T,<span class="attr">b</span>:T):T</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> add:Calculate = <span class="function"><span class="keyword">function</span>&lt;<span class="title">T</span>&gt;(<span class="params">a:T,b:T</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line">add&lt;number&gt;(<span class="number">1</span>,<span class="number">2</span>);</span><br></pre></td></tr></table></figure>

<h3 id="多个类型参"><a href="#多个类型参" class="headerlink" title="多个类型参"></a>多个类型参</h3><p>泛型可以有多个</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function swap&lt;A,B&gt;(tuple:[A,B]):[B,A]&#123;</span><br><span class="line">  <span class="keyword">return</span> [tuple[<span class="number">1</span>],tuple[<span class="number">0</span>]];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> swapped = swap&lt;string,number&gt;([<span class="string">'a'</span>,<span class="number">1</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(swapped);</span><br><span class="line"><span class="built_in">console</span>.log(swapped[<span class="number">0</span>].toFixed(<span class="number">2</span>));</span><br><span class="line"><span class="built_in">console</span>.log(swapped[<span class="number">1</span>].length);</span><br></pre></td></tr></table></figure>

<h3 id="默认泛型类型"><a href="#默认泛型类型" class="headerlink" title="默认泛型类型"></a>默认泛型类型</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createArray3</span>&lt;<span class="title">T</span>=<span class="title">number</span>&gt;(<span class="params">length: number, value: T</span>): <span class="title">Array</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> result: T[] = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">    result[i] = value;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> result2 = createArray3(<span class="number">3</span>,<span class="string">'x'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result2);</span><br></pre></td></tr></table></figure>

<h3 id="泛型约束"><a href="#泛型约束" class="headerlink" title="泛型约束"></a>泛型约束</h3><p>在函数中使用泛型的时候，由于预先并不知道泛型的类型，所以不能随意访问相应类型的属性或方法。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logger</span>&lt;<span class="title">T</span>&gt;(<span class="params">val:T</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(val.length)</span><br><span class="line">&#125;</span><br><span class="line">interface LengthWise&#123;</span><br><span class="line">  length:number</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//可以让泛型继承一个接口</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logger2</span>&lt;<span class="title">T</span> <span class="title">extends</span> <span class="title">LengthWise</span>&gt;(<span class="params">val:T</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(val.length)</span><br><span class="line">&#125;</span><br><span class="line">logger2(<span class="number">1</span>);</span><br><span class="line">logger2(<span class="string">'zhiweili'</span>);</span><br></pre></td></tr></table></figure>

<h3 id="泛型接口-1"><a href="#泛型接口-1" class="headerlink" title="泛型接口"></a>泛型接口</h3><p>定义接口的时候也可以指定泛型</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">interface Cart&lt;T&gt;&#123;</span><br><span class="line">  list:T[]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> cart:Cart&lt;&#123;<span class="attr">name</span>:string,<span class="attr">price</span>:number&#125;&gt; = &#123;</span><br><span class="line">  list:[&#123;<span class="attr">name</span>:<span class="string">'zhiweili'</span>,<span class="attr">price</span>:<span class="number">10</span>&#125;]</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(cart.list[<span class="number">0</span>].name,cart.list[<span class="number">0</span>].price);</span><br></pre></td></tr></table></figure>

<h3 id="泛型类型别名"><a href="#泛型类型别名" class="headerlink" title="泛型类型别名"></a>泛型类型别名</h3><p>泛型类型别名可以表达更复杂的类型</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">type Cart&lt;T&gt; = &#123;<span class="attr">list</span>:T[]&#125; | T[];</span><br><span class="line"><span class="keyword">let</span> c1:Cart&lt;string&gt; = &#123;<span class="attr">list</span>:[<span class="string">'1'</span>]&#125;;</span><br><span class="line"><span class="keyword">let</span> c2:Cart&lt;number&gt; = [<span class="number">1</span>];</span><br></pre></td></tr></table></figure>

<h3 id="泛型接口-vs-泛型类型别名"><a href="#泛型接口-vs-泛型类型别名" class="headerlink" title="泛型接口 vs 泛型类型别名"></a>泛型接口 vs 泛型类型别名</h3><ul>
<li>接口创建了一个新的名字，它可以在其他任意地方被调用。而类型别名并不创建新的名字，例如报错信息就不会使用别名</li>
<li>类型别名不能被 extends和 implements,这时我们应该尽量使用接口代替类型别名</li>
<li>当我们需要使用联合类型或者元组类型的时候，类型别名会更合适</li>
</ul>
<h2 id="结构类型系统"><a href="#结构类型系统" class="headerlink" title="结构类型系统"></a>结构类型系统</h2><h3 id="接口的兼容性"><a href="#接口的兼容性" class="headerlink" title="接口的兼容性"></a>接口的兼容性</h3><ul>
<li>如果传入的变量和声明的类型不匹配，TS就会进行兼容性检查</li>
<li>原理是Duck-Check,就是说只要目标类型中声明的属性变量在源类型中都存在就是兼容的</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">interface Animal&#123;</span><br><span class="line">  name:string;</span><br><span class="line">  age:number;</span><br><span class="line">  gender:number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a1 = &#123;</span><br><span class="line">  name:<span class="string">'zhiweili'</span>,</span><br><span class="line">  age:<span class="number">10</span>,</span><br><span class="line">  gender:<span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Person&#123;</span><br><span class="line">  name:string;</span><br><span class="line">  age:number</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">////- 要判断目标类型`Person`是否能够兼容输入的源类型`Animal`</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getName</span>(<span class="params">p:Person</span>):<span class="title">string</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> p.name;</span><br><span class="line">&#125;</span><br><span class="line">getName(a1);</span><br><span class="line"><span class="comment">//只有在传参的时候两个变量之间才会进行兼容性的比较，赋值的时候并不会比较,会直接报错</span></span><br><span class="line"><span class="keyword">let</span> x:Person = &#123;</span><br><span class="line">  name:<span class="string">'zhiweili'</span>,</span><br><span class="line">  age:<span class="number">10</span>,</span><br><span class="line">  gender:<span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="基本类型的兼容性"><a href="#基本类型的兼容性" class="headerlink" title="基本类型的兼容性"></a>基本类型的兼容性</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//基本数据类型也有兼容性判断</span></span><br><span class="line"><span class="keyword">let</span> num : string|number;</span><br><span class="line"><span class="keyword">let</span> str:string;</span><br><span class="line">num = str;</span><br><span class="line"></span><br><span class="line"><span class="comment">//只要有toString()方法</span></span><br><span class="line"><span class="keyword">let</span> num2 : &#123;</span><br><span class="line">  toString():string</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> str2:string;</span><br><span class="line">num2 = str2;</span><br></pre></td></tr></table></figure>

<h3 id="类的兼容性"><a href="#类的兼容性" class="headerlink" title="类的兼容性"></a>类的兼容性</h3><p>在TS中是结构类型系统，只会对比结构而不在意类型</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">    name:string</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bird</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">   swing:number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a:Animal;</span><br><span class="line">a = <span class="keyword">new</span> Bird();</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b:Bird;</span><br><span class="line"><span class="comment">//并不是父类兼容子类，子类不兼容父类</span></span><br><span class="line">b = <span class="keyword">new</span> Animal();</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">  name:string</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//如果父类和子类结构一样，也可以的</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bird</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a:Animal;</span><br><span class="line">a = <span class="keyword">new</span> Bird();</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b:Bird;</span><br><span class="line">b = <span class="keyword">new</span> Animal();</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//甚至没有关系的两个类的实例也是可以的</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">  name:string</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bird</span></span>&#123;</span><br><span class="line">  name:string</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> a:Animal ;</span><br><span class="line">a = <span class="keyword">new</span> Bird();</span><br><span class="line"><span class="keyword">let</span> b:Bird;</span><br><span class="line">b = <span class="keyword">new</span> Animal();</span><br></pre></td></tr></table></figure>

<h3 id="函数的兼容性"><a href="#函数的兼容性" class="headerlink" title="函数的兼容性"></a>函数的兼容性</h3><ul>
<li>比较函数的时候是要先比较函数的参数，再比较函数的返回值</li>
<li>参数可以省略</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">type sumFunc = <span class="function">(<span class="params">a:number,b:number</span>)=&gt;</span>number;</span><br><span class="line"><span class="keyword">let</span> sum:sumFunc;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params">a:number,b:number</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br><span class="line">sum = f1;</span><br><span class="line"><span class="comment">//可以省略一个参数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f2</span>(<span class="params">a:number</span>):<span class="title">number</span></span>&#123;</span><br><span class="line">   <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line">sum = f2;</span><br><span class="line"><span class="comment">//可以省略二个参数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f3</span>(<span class="params"></span>):<span class="title">number</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> sum = f3;</span><br><span class="line"> <span class="comment">//多一个参数可不行</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f4</span>(<span class="params">a:number,b:number,c:number</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a+b+c;</span><br><span class="line">&#125;</span><br><span class="line">sum = f4;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">type GetPerson = <span class="function"><span class="params">()</span>=&gt;</span>&#123;<span class="attr">name</span>:string,<span class="attr">age</span>:number&#125;;</span><br><span class="line"><span class="keyword">let</span> getPerson:GetPerson;</span><br><span class="line"><span class="comment">//参数一样可以</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">g1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="attr">name</span>:<span class="string">'zhiweili'</span>,<span class="attr">age</span>:<span class="number">10</span>&#125;;</span><br><span class="line">&#125;</span><br><span class="line">getPerson = g1;</span><br><span class="line"><span class="comment">//多一个属性也可以</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">g2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="attr">name</span>:<span class="string">'zhiweili'</span>,<span class="attr">age</span>:<span class="number">10</span>,<span class="attr">gender</span>:<span class="string">'male'</span>&#125;;</span><br><span class="line">&#125;</span><br><span class="line">getPerson = g2;</span><br><span class="line"><span class="comment">//少一个属性不行</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">g3</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="attr">name</span>:<span class="string">'zhiweili'</span>&#125;;</span><br><span class="line">&#125;</span><br><span class="line">getPerson = g3;</span><br><span class="line"><span class="comment">//因为有可能要调用返回值上的方法</span></span><br><span class="line">getPerson().age.toFixed();</span><br></pre></td></tr></table></figure>

<h3 id="函数参数的双向协变"><a href="#函数参数的双向协变" class="headerlink" title="函数参数的双向协变"></a>函数参数的双向协变</h3><p>函数的参数中目标兼容源，或者源兼容目标都可以，只要有一个成立就可以</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">type LogFunc = <span class="function">(<span class="params">a:number|string</span>)=&gt;</span><span class="keyword">void</span>;</span><br><span class="line"><span class="keyword">let</span> log:LogFunc;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">log1</span>(<span class="params">a:number</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//在这里定义的参数类型兼容实际的参数类型</span></span><br><span class="line">log = log1;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">log2</span>(<span class="params">a:number|string|boolean</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//在这里实际的参数类型兼容定义的参数类型</span></span><br><span class="line">log = log2;</span><br></pre></td></tr></table></figure>

<h3 id="泛型的兼容性"><a href="#泛型的兼容性" class="headerlink" title="泛型的兼容性"></a>泛型的兼容性</h3><p>泛型在判断兼容性的时候会先判断具体的类型,然后再进行兼容性判断</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//接口内容为空没用到泛型的时候是可以的</span></span><br><span class="line">interface Empty&lt;T&gt;&#123;&#125;</span><br><span class="line"><span class="keyword">let</span> x:Empty&lt;string&gt;;</span><br><span class="line"><span class="keyword">let</span> y:Empty&lt;number&gt;;</span><br><span class="line">x = y;</span><br><span class="line"></span><br><span class="line"><span class="comment">//接口内容不为空的时候不可以</span></span><br><span class="line">interface NotEmpty&lt;T&gt;&#123;</span><br><span class="line">  data:T</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> x1:NotEmpty&lt;string&gt;;</span><br><span class="line"><span class="keyword">let</span> y1:NotEmpty&lt;number&gt;;</span><br><span class="line">x1 = y1;</span><br><span class="line"></span><br><span class="line">interface NotEmptyString&#123;</span><br><span class="line">    data:string</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface NotEmptyNumber&#123;</span><br><span class="line">    data:number</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> xx3:NotEmptyString;</span><br><span class="line"><span class="keyword">let</span> yy3:NotEmptyNumber;</span><br><span class="line">xx3 = yy3;</span><br></pre></td></tr></table></figure>

<h3 id="枚举的兼容性"><a href="#枚举的兼容性" class="headerlink" title="枚举的兼容性"></a>枚举的兼容性</h3><ul>
<li>枚举类型与数字类型兼容，并且数字类型与枚举类型兼容</li>
<li>不同枚举类型之间是不兼容的</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//数字可以赋给枚举</span></span><br><span class="line">enum Colors &#123;Red,Yellow&#125;</span><br><span class="line"><span class="keyword">let</span> c:Colors;</span><br><span class="line">c = Colors.Red;</span><br><span class="line">c = <span class="number">1</span>;</span><br><span class="line">c = <span class="string">'1'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//枚举值可以赋给数字</span></span><br><span class="line"><span class="keyword">let</span> n:number;</span><br><span class="line">n = <span class="number">1</span>;</span><br><span class="line">n = Colors.Red;</span><br></pre></td></tr></table></figure>

<h2 id="类型保护"><a href="#类型保护" class="headerlink" title="类型保护"></a>类型保护</h2><ul>
<li>类型保护就是一些表达式，他们在编译的时候就能通过类型信息确保某个作用域内变量的类型</li>
<li>类型保护就是能够通过关键字判断出分支中的类型</li>
</ul>
<h3 id="typeof-类型保护"><a href="#typeof-类型保护" class="headerlink" title="typeof 类型保护"></a>typeof 类型保护</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">double</span>(<span class="params">input:string|number|boolean</span>)</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">typeof</span> input === <span class="string">'string'</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> input + input;</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> input === <span class="string">'number'</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> input*<span class="number">2</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> !input;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="instanceof类型保护"><a href="#instanceof类型保护" class="headerlink" title="instanceof类型保护"></a>instanceof类型保护</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">  name:string;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bird</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">  swing:number</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getName</span>(<span class="params">animal:Animal</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(animal <span class="keyword">instanceof</span> Bird)&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(animal.swing);</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(animal.name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="null保护"><a href="#null保护" class="headerlink" title="null保护"></a>null保护</h3><p>如果开启了strictNullChecks选项，那么对于可能为null的变量不能调用它上面的方法和属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFirstLetter</span>(<span class="params">s:string|null</span>)</span>&#123;</span><br><span class="line">  <span class="comment">//第一种方式是加上null判断</span></span><br><span class="line">  <span class="keyword">if</span>(s == <span class="literal">null</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">''</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//第二种处理是增加一个或的处理</span></span><br><span class="line">  s = s || <span class="string">''</span>;</span><br><span class="line">  <span class="keyword">return</span> s.charAt(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//它并不能处理一些复杂的判断，需要加链判断运算符</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFirstLetter2</span>(<span class="params">s:string|null</span>)</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">log</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(s!.trim());</span><br><span class="line">    &#125;</span><br><span class="line">    s = s || <span class="string">''</span>;</span><br><span class="line">    log();</span><br><span class="line">    <span class="keyword">return</span> s.charAt(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="链判断运算符"><a href="#链判断运算符" class="headerlink" title="链判断运算符"></a>链判断运算符</h3><ul>
<li>链判断运算符是一种先检查属性是否存在，再尝试访问该属性的运算符，其符号为 ?.</li>
<li>如果运算符左侧的操作数 ?. 计算为 undefined 或 null，则表达式求值为 undefined 。否则，正常触发目标属性访问，方法或函数调用。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">a?.b; <span class="comment">//如果a是null/undefined,那么返回undefined，否则返回a.b的值.</span></span><br><span class="line">a == <span class="literal">null</span> ? <span class="literal">undefined</span> : a.b;</span><br><span class="line"></span><br><span class="line">a?.[x]; <span class="comment">//如果a是null/undefined,那么返回undefined，否则返回a[x]的值</span></span><br><span class="line">a == <span class="literal">null</span> ? <span class="literal">undefined</span> : a[x];</span><br><span class="line"></span><br><span class="line">a?.b(); <span class="comment">// 如果a是null/undefined,那么返回undefined</span></span><br><span class="line">a == <span class="literal">null</span> ? <span class="literal">undefined</span> : a.b(); <span class="comment">//如果a.b不函数的话抛类型错误异常,否则计算a.b()的结果</span></span><br><span class="line"></span><br><span class="line">a?.(); <span class="comment">//如果a是null/undefined,那么返回undefined</span></span><br><span class="line">a == <span class="literal">null</span> ? <span class="literal">undefined</span> : a(); <span class="comment">//如果A不是函数会抛出类型错误</span></span><br><span class="line"><span class="comment">//否则 调用a这个函数</span></span><br></pre></td></tr></table></figure>

<h3 id="可辨识的联合类型"><a href="#可辨识的联合类型" class="headerlink" title="可辨识的联合类型"></a>可辨识的联合类型</h3><ul>
<li>就是利用联合类型中的共有字段进行类型保护的一种技巧</li>
<li>相同字段的不同取值就是可辨识</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">interface WarningButton&#123;</span><br><span class="line">  class:'warning',</span><br><span class="line">  text1:<span class="string">'修改'</span></span><br><span class="line">&#125;</span><br><span class="line">interface DangerButton&#123;</span><br><span class="line">  class:'danger',</span><br><span class="line">  text2:<span class="string">'删除'</span></span><br><span class="line">&#125;</span><br><span class="line">type Button = WarningButton|DangerButton;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getButton</span>(<span class="params">button:Button</span>)</span>&#123;</span><br><span class="line"> <span class="keyword">if</span>(button.class==<span class="string">'warning'</span>)&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(button.text1);</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">if</span>(button.class==<span class="string">'danger'</span>)&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(button.text2);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="in操作符"><a href="#in操作符" class="headerlink" title="in操作符"></a>in操作符</h3><p>in 运算符可以被用于参数类型的判断</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">interface Bird &#123;</span><br><span class="line">    swing: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Dog &#123;</span><br><span class="line">    leg: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getNumber</span>(<span class="params">x: Bird | Dog</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">"swing"</span> <span class="keyword">in</span> x) &#123;</span><br><span class="line">      <span class="keyword">return</span> x.swing;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x.leg;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="自定义的类型保护"><a href="#自定义的类型保护" class="headerlink" title="自定义的类型保护"></a>自定义的类型保护</h3><ul>
<li>TypeScript 里的类型保护本质上就是一些表达式，它们会在运行时检查类型信息，以确保在某个作用域里的类型是符合预期的</li>
<li>要自定义一个类型保护，只需要简单地为这个类型保护定义一个函数即可，这个函数的返回值是一个类型谓词</li>
<li>类型谓词的语法为 parameterName is Type 这种形式，其中 parameterName 必须是当前函数签名里的一个参数名</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">interface Bird &#123;</span><br><span class="line">  swing: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface Dog &#123;</span><br><span class="line">  leg: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//没有相同字段可以定义一个类型保护函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isBird</span>(<span class="params">x:Bird|Dog</span>): <span class="title">x</span> <span class="title">is</span> <span class="title">Bird</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (<span class="xml"><span class="tag">&lt;<span class="name">Bird</span>&gt;</span>x).swing == 2;</span></span><br><span class="line"><span class="xml">  return (x as Bird).swing == 2;</span></span><br><span class="line"><span class="xml">&#125;</span></span><br><span class="line"><span class="xml">function getAnimal(x: Bird | Dog) &#123;</span></span><br><span class="line"><span class="xml">  if (isBird(x)) &#123;</span></span><br><span class="line"><span class="xml">    return x.swing;</span></span><br><span class="line"><span class="xml">  &#125;</span></span><br><span class="line"><span class="xml">  return x.leg;</span></span><br><span class="line"><span class="xml">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="类型变换"><a href="#类型变换" class="headerlink" title="类型变换"></a>类型变换</h2><h3 id="交叉类型"><a href="#交叉类型" class="headerlink" title="交叉类型"></a>交叉类型</h3><p>交叉类型（Intersection Types）表示将多个类型合并为一个类型</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">interface Bird&#123;</span><br><span class="line">name:string,</span><br><span class="line">fly():<span class="keyword">void</span></span><br><span class="line">&#125;</span><br><span class="line">interface Person&#123;</span><br><span class="line"> name:string,</span><br><span class="line"> talk():<span class="keyword">void</span></span><br><span class="line">&#125;</span><br><span class="line">type BirdPerson = Bird &amp; Person;</span><br><span class="line"><span class="keyword">let</span> p:BirdPerson=&#123;<span class="attr">name</span>:<span class="string">'zhiweili'</span>,fly()&#123;&#125;,talk()&#123;&#125;&#125;;</span><br><span class="line">p.fly;</span><br><span class="line">p.name</span><br><span class="line">p.talk;</span><br></pre></td></tr></table></figure>

<h3 id="typeof"><a href="#typeof" class="headerlink" title="typeof"></a>typeof</h3><p>可以获取一个变量的类型</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//先定义类型，再定义变量</span></span><br><span class="line">type People = &#123;</span><br><span class="line">    name:string,</span><br><span class="line">    age:number,</span><br><span class="line">    gender:string</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p1:People = &#123;</span><br><span class="line">    name:<span class="string">'zhiweili'</span>,</span><br><span class="line">    age:<span class="number">10</span>,</span><br><span class="line">    gender:<span class="string">'male'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//先定义变量，再定义类型</span></span><br><span class="line"><span class="keyword">let</span> p1 = &#123;</span><br><span class="line">    name:<span class="string">'zhiweili'</span>,</span><br><span class="line">    age:<span class="number">10</span>,</span><br><span class="line">    gender:<span class="string">'male'</span></span><br><span class="line">&#125;</span><br><span class="line">type People = <span class="keyword">typeof</span> p1;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getName</span>(<span class="params">p:People</span>):<span class="title">string</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> p.name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="索引访问操作符"><a href="#索引访问操作符" class="headerlink" title="索引访问操作符"></a>索引访问操作符</h3><p>可以通过[]获取一个类型的子类型</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">interface Person&#123;</span><br><span class="line">    name:string;</span><br><span class="line">    age:number;</span><br><span class="line">    job:&#123;</span><br><span class="line">        name:string</span><br><span class="line">    &#125;;</span><br><span class="line">    interests:&#123;<span class="attr">name</span>:string,<span class="attr">level</span>:number&#125;[]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> FrontEndJob:Person[<span class="string">'job'</span>] = &#123;</span><br><span class="line">    name:<span class="string">'前端工程师'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> interestLevel:Person[<span class="string">'interests'</span>][<span class="number">0</span>][<span class="string">'level'</span>] = <span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<h3 id="keyof"><a href="#keyof" class="headerlink" title="keyof"></a>keyof</h3><p>索引类型查询操作符</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">interface Person&#123;</span><br><span class="line">  name:string;</span><br><span class="line">  age:number;</span><br><span class="line">  gender:<span class="string">'male'</span>|<span class="string">'female'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//type PersonKey = 'name'|'age'|'gender';</span></span><br><span class="line">type PersonKey = keyof Person;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getValueByKey</span>(<span class="params">p:Person,key:PersonKey</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> p[key];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> val = getValueByKey(&#123;<span class="attr">name</span>:<span class="string">'zhiweili'</span>,<span class="attr">age</span>:<span class="number">10</span>,<span class="attr">gender</span>:<span class="string">'male'</span>&#125;,<span class="string">'name'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(val);</span><br></pre></td></tr></table></figure>

<h3 id="映射类型"><a href="#映射类型" class="headerlink" title="映射类型"></a>映射类型</h3><p>在定义的时候用in操作符去批量定义类型中的属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">interface Person&#123;</span><br><span class="line">  name:string;</span><br><span class="line">  age:number;</span><br><span class="line">  gender:<span class="string">'male'</span>|<span class="string">'female'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//批量把一个接口中的属性都变成可选的</span></span><br><span class="line">type PartPerson = &#123;</span><br><span class="line">  [Key <span class="keyword">in</span> keyof Person]?:Person[Key]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p1:PartPerson=&#123;&#125;;</span><br><span class="line"><span class="comment">//也可以使用泛型</span></span><br><span class="line">type Part&lt;T&gt; = &#123;</span><br><span class="line">  [key <span class="keyword">in</span> keyof T]?:T[key]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p2:Part&lt;Person&gt;=&#123;&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="内置工具类型"><a href="#内置工具类型" class="headerlink" title="内置工具类型"></a>内置工具类型</h3><ul>
<li>TS 中内置了一些工具类型来帮助我们更好地使用类型系统<h4 id="dPartial"><a href="#dPartial" class="headerlink" title="dPartial"></a>dPartial</h4></li>
<li>Partial 可以将传入的属性由非可选变为可选，具体使用如下：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">type Partial&lt;T&gt; = &#123; [P <span class="keyword">in</span> keyof T]?: T[P] &#125;;</span><br><span class="line"></span><br><span class="line">interface A &#123;</span><br><span class="line">  a1: string;</span><br><span class="line">  a2: number;</span><br><span class="line">  a3: boolean;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type aPartial = Partial&lt;A&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a: aPartial = &#123;&#125;; <span class="comment">// 不会报错</span></span><br></pre></td></tr></table></figure>

<h4 id="Required"><a href="#Required" class="headerlink" title="Required"></a>Required</h4><p>Required 可以将传入的属性中的可选项变为必选项，这里用了 -? 修饰符来实现。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Make all properties in T required</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">type Required&lt;T&gt; = &#123; [P <span class="keyword">in</span> keyof T]-?: T[P] &#125;;</span><br><span class="line"></span><br><span class="line">interface Person&#123;</span><br><span class="line">  name:string;</span><br><span class="line">  age:number;</span><br><span class="line">  gender?:<span class="string">'male'</span>|<span class="string">'female'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p:Required&lt;Person&gt; = &#123;</span><br><span class="line">  name:<span class="string">'zhiweili'</span>,</span><br><span class="line">  age:<span class="number">10</span>,</span><br><span class="line">  <span class="comment">//gender:'male'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Readonly"><a href="#Readonly" class="headerlink" title="Readonly"></a>Readonly</h4><p>Readonly 通过为传入的属性每一项都加上 readonly 修饰符来实现。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Make all properties in T readonly</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">type Readonly&lt;T&gt; = &#123; readonly [P <span class="keyword">in</span> keyof T]: T[P] &#125;;</span><br><span class="line"></span><br><span class="line">interface Person&#123;</span><br><span class="line">  name:string;</span><br><span class="line">  age:number;</span><br><span class="line">  gender?:<span class="string">'male'</span>|<span class="string">'female'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p:Readonly&lt;Person&gt; = &#123;</span><br><span class="line">  name:<span class="string">'zhiweili'</span>,</span><br><span class="line">  age:<span class="number">10</span>,</span><br><span class="line">  gender:<span class="string">'male'</span></span><br><span class="line">&#125;</span><br><span class="line">p.age = <span class="number">11</span>;</span><br></pre></td></tr></table></figure>

<h4 id="Pick"><a href="#Pick" class="headerlink" title="Pick"></a>Pick</h4><p>Pick 能够帮助我们从传入的属性中摘取某一项返回</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * From T pick a set of properties K</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">type Pick&lt;T, K extends keyof T&gt; = &#123; [P <span class="keyword">in</span> K]: T[P] &#125;;</span><br><span class="line"></span><br><span class="line">interface Animal &#123;</span><br><span class="line">  name: string;</span><br><span class="line">  age: number;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 摘取 Animal 中的 name 属性</span></span><br><span class="line">type AnimalSub = Pick&lt;Animal, <span class="string">"name"</span>&gt;; <span class="comment">// &#123; name: string; &#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="映射类型修饰符的控制"><a href="#映射类型修饰符的控制" class="headerlink" title="映射类型修饰符的控制"></a>映射类型修饰符的控制</h4><ul>
<li>TypeScript中增加了对映射类型修饰符的控制</li>
<li>具体而言，一个 readonly 或 ? 修饰符在一个映射类型里可以用前缀 + 或-来表示这个修饰符应该被添加或移除</li>
<li>TS 中部分内置工具类型就利用了这个特性（Partial、Required、Readonly…），这里我们可以参考 Partial、Required 的实现</li>
</ul>
<h3 id="条件类型"><a href="#条件类型" class="headerlink" title="条件类型"></a>条件类型</h3><p>在定义泛型的时候能够添加进逻辑分支，以后泛型更加灵活</p>
<h4 id="定义条件类型"><a href="#定义条件类型" class="headerlink" title="定义条件类型"></a>定义条件类型</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">interface Fish&#123;</span><br><span class="line">  name:string</span><br><span class="line">&#125;</span><br><span class="line">interface Water&#123;</span><br><span class="line">  name:string</span><br><span class="line">&#125;</span><br><span class="line">interface Bird&#123;</span><br><span class="line">  name:string</span><br><span class="line">&#125;</span><br><span class="line">interface Sky&#123;</span><br><span class="line">  name:string</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//三元运算符</span></span><br><span class="line">type Condition&lt;T&gt; = T extends Fish?Water:Sky;</span><br><span class="line"><span class="keyword">let</span> con:Condition&lt;Fish&gt; = &#123;<span class="attr">name</span>:<span class="string">'水'</span>&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="条件类型的分发"><a href="#条件类型的分发" class="headerlink" title="条件类型的分发"></a>条件类型的分发</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">interface Fish&#123;</span><br><span class="line">  name:string</span><br><span class="line">&#125;</span><br><span class="line">interface Water&#123;</span><br><span class="line">  name1:string</span><br><span class="line">&#125;</span><br><span class="line">interface Bird&#123;</span><br><span class="line">  name:string</span><br><span class="line">&#125;</span><br><span class="line">interface Sky&#123;</span><br><span class="line">  name2:string</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//三元运算符</span></span><br><span class="line">type Condition&lt;T&gt; = T extends Fish?Water:Sky;</span><br><span class="line"><span class="keyword">let</span> con1:Condition&lt;Fish|Water&gt; = &#123;<span class="attr">name1</span>:<span class="string">'水'</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> con2:Condition&lt;Fish|Water&gt; = &#123;<span class="attr">name2</span>:<span class="string">'水'</span>&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="内置条件类型"><a href="#内置条件类型" class="headerlink" title="内置条件类型"></a>内置条件类型</h4><p>TS 在内置了一些常用的条件类型，可以在 lib.es5.d.ts 中查看：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Exclude&lt;T, U&gt; <span class="comment">// 从 T 可分配给的类型中排除 U。</span></span><br><span class="line">Extract&lt;T, U&gt; <span class="comment">// 从 T 可分配的类型中提取 U。</span></span><br><span class="line">NonNullable&lt;T&gt; <span class="comment">// 从 T 中排除 null 和 undefined。</span></span><br><span class="line">ReturnType&lt;T&gt; <span class="comment">// 获取函数类型的返回类型。</span></span><br><span class="line">InstanceType&lt;T&gt; <span class="comment">// 获取构造函数类型的实例类型。</span></span><br></pre></td></tr></table></figure>

<h4 id="Exclude"><a href="#Exclude" class="headerlink" title="Exclude"></a>Exclude</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">type  E = Exclude&lt;string|number,string&gt;;</span><br><span class="line"><span class="keyword">let</span> e:E = <span class="number">10</span>;</span><br></pre></td></tr></table></figure>

<h4 id="Extract"><a href="#Extract" class="headerlink" title="Extract"></a>Extract</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">type  E = Extract&lt;string|number,string&gt;;</span><br><span class="line"><span class="keyword">let</span> e:E = <span class="string">'1'</span>;</span><br></pre></td></tr></table></figure>

<h4 id="NonNullable"><a href="#NonNullable" class="headerlink" title="NonNullable"></a>NonNullable</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">type  E = NonNullable&lt;string|number|<span class="literal">null</span>|<span class="literal">undefined</span>&gt;;</span><br><span class="line"><span class="keyword">let</span> e:E = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>

<h4 id="ReturnType"><a href="#ReturnType" class="headerlink" title="ReturnType"></a>ReturnType</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUserInfo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123; <span class="attr">name</span>: <span class="string">"zhiweili"</span>, <span class="attr">age</span>: <span class="number">10</span> &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过 ReturnType 将 getUserInfo 的返回值类型赋给了 UserInfo</span></span><br><span class="line">type UserInfo = ReturnType&lt;<span class="keyword">typeof</span> getUserInfo&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> userA: UserInfo = &#123;</span><br><span class="line">  name: <span class="string">"zhiweili"</span>,</span><br><span class="line">  age: <span class="number">10</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="InstanceType"><a href="#InstanceType" class="headerlink" title="InstanceType"></a>InstanceType</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">  name:string;</span><br><span class="line">  <span class="keyword">constructor</span>(name)&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  getName()&#123;<span class="built_in">console</span>.log(<span class="keyword">this</span>.name)&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type  P = InstanceType&lt;<span class="keyword">typeof</span> Person&gt;;</span><br><span class="line"><span class="keyword">let</span> p:P = &#123;<span class="attr">name</span>:<span class="string">'zhiweili'</span>,getName()&#123;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined" target="_blank" rel="noopener">ZhiWeiLi</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://eric-leo.github.io/2019/09/07/TS%E4%B9%8B%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/">https://eric-leo.github.io/2019/09/07/TS%E4%B9%8B%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/blog/tags/ts/">ts</a></div><div class="post_share"><div class="social-share" data-image="/blog/img/javascript_default.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> Donate<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/blog/img/wechat.jpg" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="post-qr-code__img" src="/blog/img/alipay.jpg" alt="支付寶"/><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="next-post pull-full"><a href="/blog/2019/07/20/Express%E4%B9%8B%E5%85%A5%E9%97%A8%E7%AF%87/"><img class="next_cover" src="/blog/img/javascript_default.jpg" onerror="onerror=null;src='/blog/img/404.jpg'"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">Express之入门篇</div></div></a></div></nav></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2023 By ZhiWeiLi</div><div class="framework-info"><span>Driven </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="Read Mode"></i><i class="fa fa-plus" id="font_plus" title="Increase font size"></i><i class="fa fa-minus" id="font_minus" title="Decrease font size"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="Traditional Chinese and Simplified Chinese Conversion" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="Dark Mode"></i></div><div id="rightside-config-show"><div id="rightside_config" title="Setting"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="Table of Contents" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="Back to top" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/blog/js/utils.js"></script><script src="/blog/js/main.js"></script><script src="/blog/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@3/instantpage.min.js" type="module"></script></body></html>